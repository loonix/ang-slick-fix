!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/operators"),require("text-encoding-utf-8"),require("slickgrid/plugins/slick.cellrangedecorator"),require("slickgrid/plugins/slick.cellrangeselector"),require("slickgrid/plugins/slick.cellselectionmodel"),require("flatpickr"),require("lodash.isequal"),require("moment-mini"),require("dompurify"),require("jquery-ui-dist/jquery-ui"),require("slickgrid/lib/jquery.event.drag-2.3.0"),require("slickgrid/slick.core"),require("slickgrid/slick.grid"),require("slickgrid/slick.dataview"),require("rxjs"),require("@angular/common"),require("@angular/core"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("angular-slickgrid",["exports","rxjs/operators","text-encoding-utf-8","slickgrid/plugins/slick.cellrangedecorator","slickgrid/plugins/slick.cellrangeselector","slickgrid/plugins/slick.cellselectionmodel","flatpickr","lodash.isequal","moment-mini","dompurify","jquery-ui-dist/jquery-ui","slickgrid/lib/jquery.event.drag-2.3.0","slickgrid/slick.core","slickgrid/slick.grid","slickgrid/slick.dataview","rxjs","@angular/common","@angular/core","@ngx-translate/core"],t):t(e["angular-slickgrid"]={},e.rxjs.operators,e.textEncodingUtf8,null,null,null,e.flatpickr,e.lodash.isequal,e.moment,e.dompurify,null,null,null,null,null,e.rxjs,e.ng.common,e.ng.core,e["ngx-translate-core"])}(this,function(e,r,a,t,i,n,u,o,s,l,c,d,h,p,f,m,g,v,y){"use strict";u=u&&u.hasOwnProperty("default")?u["default"]:u;var E={camelCase:0,pascalCase:1,snakeCase:2};E[E.camelCase]="camelCase",E[E.pascalCase]="pascalCase",E[E.snakeCase]="snakeCase";var S={colon:":",comma:",",equalSign:"=",pipe:"|",semicolon:";",space:" ",tab:"\t",doubleColon:"::",doublePipe:"||",doubleSemicolon:";;"},b={local:"local",remote:"remote"},O={autoTooltip:"autoTooltip",cellExternalCopyManager:"cellExternalCopyManager",checkboxSelector:"checkboxSelector",columnPicker:"columnPicker",draggableGrouping:"draggableGrouping",groupItemMetaProvider:"groupItemMetaProvider",gridMenu:"gridMenu",headerButton:"headerButton",headerMenu:"headerMenu",noname:"noname",rowDetailView:"rowDetailView",rowMoveManager:"rowMoveManager",rowSelection:"rowSelection"},x={unknown:0,string:1,"boolean":2,integer:3,"float":4,number:5,date:6,dateIso:7,dateUtc:8,dateTime:9,dateTimeIso:10,dateTimeIsoAmPm:11,dateTimeIsoAM_PM:12,dateTimeShortIso:13,dateUs:14,dateUsShort:15,dateTimeShortUs:16,dateTimeUs:17,dateTimeUsAmPm:18,dateTimeUsAM_PM:19,dateTimeUsShort:20,dateTimeUsShortAmPm:21,dateTimeUsShortAM_PM:22,object:23};x[x.unknown]="unknown",x[x.string]="string",x[x["boolean"]]="boolean",x[x.integer]="integer",x[x["float"]]="float",x[x.number]="number",x[x.date]="date",x[x.dateIso]="dateIso",x[x.dateUtc]="dateUtc",x[x.dateTime]="dateTime",x[x.dateTimeIso]="dateTimeIso",x[x.dateTimeIsoAmPm]="dateTimeIsoAmPm",x[x.dateTimeIsoAM_PM]="dateTimeIsoAM_PM",x[x.dateTimeShortIso]="dateTimeShortIso",x[x.dateUs]="dateUs",x[x.dateUsShort]="dateUsShort",x[x.dateTimeShortUs]="dateTimeShortUs",x[x.dateTimeUs]="dateTimeUs",x[x.dateTimeUsAmPm]="dateTimeUsAmPm",x[x.dateTimeUsAM_PM]="dateTimeUsAM_PM",x[x.dateTimeUsShort]="dateTimeUsShort",x[x.dateTimeUsShortAmPm]="dateTimeUsShortAmPm",x[x.dateTimeUsShortAM_PM]="dateTimeUsShortAM_PM",x[x.object]="object";var _={csv:"csv",doc:"doc",docx:"docx",pdf:"pdf",txt:"txt",xls:"xls",xlsx:"xlsx"},C={merge:"merge",chain:"chain"},T={columns:"columns",filter:"filter",pagination:"pagination",sorter:"sorter"},w={BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38};w[w.BACKSPACE]="BACKSPACE",w[w.DELETE]="DELETE",w[w.DOWN]="DOWN",w[w.END]="END",w[w.ENTER]="ENTER",w[w.ESCAPE]="ESCAPE",w[w.HOME]="HOME",w[w.INSERT]="INSERT",w[w.LEFT]="LEFT",w[w.PAGE_DOWN]="PAGE_DOWN",w[w.PAGE_UP]="PAGE_UP",w[w.RIGHT]="RIGHT",w[w.TAB]="TAB",w[w.UP]="UP";var D={empty:"",contains:"Contains",notContains:"Not_Contains",lessThan:"LT",lessThanOrEqual:"LE",greaterThan:"GT",greaterThanOrEqual:"GE",notEqual:"NE",equal:"EQ",endsWith:"EndsWith",startsWith:"StartsWith","in":"IN",notIn:"NOT_IN",inContains:"IN_CONTAINS",notInContains:"NOT_IN_CONTAINS"},I={asc:"asc",ASC:"ASC",desc:"desc",DESC:"DESC"},A={asc:1,desc:-1,neutral:0};A[A.asc]="asc",A[A.desc]="desc",A[A.neutral]="neutral";var P=function(){function e(e,t,i){this.compFactoryResolver=e,this.appRef=t,this.injector=i}return e.prototype.createAngularComponent=function(e){var t,i=this.compFactoryResolver.resolveComponentFactory(e).create(this.injector);this.appRef.attachView(i.hostView);var r=i.hostView;return r&&Array.isArray(r.rootNodes)&&r.rootNodes[0]&&(t=r.rootNodes[0]),{componentRef:i,domElement:t}},e.prototype.createAngularComponentAppendToDom=function(e,t,i){void 0===i&&(i=!1);var r=this.createAngularComponent(e);return t&&t.appendChild?(i&&t.innerHTML&&(t.innerHTML=""),t.appendChild(r.domElement)):document.body.appendChild(r.domElement),r},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:v.ComponentFactoryResolver},{type:v.ApplicationRef},{type:v.Injector}]},e}();function k(e,t,i,r){var n=new Date;t&&i&&i.internalPostProcess&&i.internalPostProcess(t),i.postProcess&&(t instanceof Object&&(t.statistics={startTime:e,endTime:n,executionTime:n.valueOf()-e.valueOf(),itemCount:r&&r.pagination&&r.pagination.totalItems,totalItemCount:r&&r.pagination&&r.pagination.totalItems}),i.postProcess(t))}function F(e,t){if(!t||!t.onError)throw e;t.onError(e)}var V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function R(e,t){function i(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var M=function(){return(M=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function N(t,s,a,l){return new(a||(a=Promise))(function(e,i){function r(e){try{o(l.next(e))}catch(t){i(t)}}function n(e){try{o(l["throw"](e))}catch(t){i(t)}}function o(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(r,n)}o((l=l.apply(t,s||[])).next())})}function L(r,n){var o,s,a,e,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function i(e){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(a=2&e[0]?s["return"]:e[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,e[1])).done)return a;switch(s=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,s=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=n.call(r,l)}catch(t){e=[6,t],s=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function G(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function H(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o["return"])&&i.call(o)}finally{if(n)throw n.error}}return s}function j(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(H(arguments[t]));return e}var B=s;function U(e){for(var t="",i=0;i<e;i++)t+=" ";return t}function z(e){return $("<div/>").text(e).html()}function Q(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}function q(e,t,i){if(void 0===i&&(i=!1),e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;i||(e.sort(),t.sort());for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function W(e,t){void 0===t&&(t="");var i=e;if(e instanceof Promise)return e;if(e instanceof m.Observable&&((i=e.pipe(r.first()).toPromise())instanceof Promise||(i=e.pipe(r.take(1)).toPromise()),!(i instanceof Promise)))throw new Error("Something went wrong, Angular-Slickgrid "+t+" is not able to convert the Observable into a Promise.\n        If you are using Angular HttpClient, you could try converting your http call to a Promise with \".toPromise()\"\n        for example::  this.http.post('graphql', { query: graphqlQuery }).toPromise()\n        ");return i}function Y(e,t,i){return void 0===i&&(i={}),e.find(t)||i}function X(e,t,i){if(isNaN(+e))return e;var r=t===undefined?2:t,n=i===undefined?2:i,o=String(Math.round(+e*Math.pow(10,n))/Math.pow(10,n));for(o.indexOf(".")<0&&(o+=".");o.length-o.indexOf(".")<=r;)o+="0";return o}function K(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function Z(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),Math.ceil(100-t)}function J(e){var t;switch(e){case x.dateTime:case x.dateTimeIso:t="YYYY-MM-DD HH:mm:ss";break;case x.dateTimeShortIso:t="YYYY-MM-DD HH:mm";break;case x.dateTimeIsoAmPm:t="YYYY-MM-DD hh:mm:ss a";break;case x.dateTimeIsoAM_PM:t="YYYY-MM-DD hh:mm:ss A";break;case x.dateUs:t="MM/DD/YYYY";break;case x.dateUsShort:t="M/D/YY";break;case x.dateTimeUs:t="MM/DD/YYYY HH:mm:ss";break;case x.dateTimeShortUs:t="MM/DD/YYYY HH:mm";break;case x.dateTimeUsAmPm:t="MM/DD/YYYY hh:mm:ss a";break;case x.dateTimeUsAM_PM:t="MM/DD/YYYY hh:mm:ss A";break;case x.dateTimeUsShort:t="M/D/YY H:m:s";break;case x.dateTimeUsShortAmPm:t="M/D/YY h:m:s a";break;case x.dateUtc:t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case x.date:case x.dateIso:default:t="YYYY-MM-DD"}return t}function ee(e){var t;switch(e){case x.dateTime:case x.dateTimeIso:t="Y-m-d H:i:S";break;case x.dateTimeShortIso:t="Y-m-d H:i";break;case x.dateTimeIsoAmPm:case x.dateTimeIsoAM_PM:t="Y-m-d h:i:S K";break;case x.dateUs:t="m/d/Y";break;case x.dateUsShort:t="m/d/y";break;case x.dateTimeUs:t="m/d/Y H:i:S";break;case x.dateTimeShortUs:t="m/d/y H:i";break;case x.dateTimeUsAmPm:t="m/d/Y h:i:S K";break;case x.dateTimeUsAM_PM:t="m/d/Y h:i:s K";break;case x.dateTimeUsShort:t="m/d/y H:i:s";break;case x.dateTimeUsShortAmPm:t="m/d/y h:i:s K";break;case x.dateUtc:t="Z";break;case x.date:case x.dateIso:default:t="Y-m-d"}return t}function te(e){var t;switch(e){case"<":t=D.lessThan;break;case"<=":t=D.lessThanOrEqual;break;case">":t=D.greaterThan;break;case">=":t=D.greaterThanOrEqual;break;case"<>":case"!=":case"neq":case"NEQ":t=D.notEqual;break;case"*":case".*":case"startsWith":t=D.startsWith;break;case"*.":case"endsWith":t=D.endsWith;break;case"=":case"==":case"eq":case"EQ":t=D.equal;break;case"in":case"IN":t=D["in"];break;case"notIn":case"NIN":case"NOT_IN":t=D.notIn;break;default:t=D.contains}return t}function ie(e){var t;switch(e){case x.string:case x.unknown:t=D.contains;break;case x["float"]:case x.number:case x.date:case x.dateIso:case x.date:case x.dateUtc:case x.dateTime:case x.dateTimeIso:case x.dateTimeIsoAmPm:case x.dateTimeIsoAM_PM:case x.dateUs:case x.dateUsShort:case x.dateTimeUs:case x.dateTimeUsAmPm:case x.dateTimeUsAM_PM:case x.dateTimeUsShort:case x.dateTimeUsShortAmPm:case x.dateTimeUsShortAM_PM:default:t=D.equal}return t}function re(e){return/(true|1)/i.test(e+"")}function ne(e,t){var i=null;if(/^[0-9\-\/]*$/.test(e)){var r=decodeURIComponent(e),n=B(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=t?n.utc().format():n.format())}return i}function oe(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}function se(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ae(e){return e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,function(e,t){return/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()})}function le(i){return i.filter(function(e,t){return i.indexOf(e)>=t})}function ue(e){return Array.isArray(e)&&(e.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),e=[]),e}var ce=s;function de(e,t,i,r,n){var o=0;if(null!==e&&""!==e&&ce(e,i,n).isValid())if(null!==t&&""!==t&&ce(t,i,n).isValid()){var s=ce(e,i,n),a=ce(t,i,n);o=parseInt(s.format("X"),10)-parseInt(a.format("X"),10)}else o=1;else o=-1;return r*(0===o?0:0<o?1:-1)}var he=J(x.dateUsShort),pe=function(e,t,i){return de(e,t,he,i,!0)},fe=s,me=function(e,t,i){return de(e,t,fe.ISO_8601,i)},ge=J(x.dateIso),ve=function(e,t,i){return de(e,t,ge,i,!0)},ye=J(x.dateUs),Se=function(e,t,i){return de(e,t,ye,i,!0)},be=function(e,t,i){var r=isNaN(e)||""===e||null===e?-99e10:parseFloat(e),n=isNaN(t)||""===t||null===t?-99e10:parseFloat(t);return i*(r===n?0:n<r?1:-1)},Oe=function(e,t,i,r){if(!r||!r.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');var n=e.hasOwnProperty(r.dataKey)?e[r.dataKey]:e,o=t.hasOwnProperty(r.dataKey)?t[r.dataKey]:t,s=0;return null===n?s=-1:null===o?s=1:n===o?s=0:i?s=n<o?-1:1:i||(s=n<o?1:-1),i*s},_e=function(e,t,i){return i*(null===e?-1:null===t?1:e===t?0:i?e<t?-1:1:e<t?1:-1)},Ee={date:me,dateIso:ve,dateUs:Se,dateUsShort:pe,numeric:be,objectString:Oe,string:_e};function Ce(e,t,i,r,n){var o=0;switch(i){case x.number:o=Ee.numeric(e,t,r);break;case x.date:o=Ee.date(e,t,r);break;case x.dateIso:o=Ee.dateIso(e,t,r);break;case x.dateUs:o=Ee.dateUs(e,t,r);break;case x.dateUsShort:o=Ee.dateUsShort(e,t,r);break;case x.object:o=Ee.objectString(e,t,r,n);break;default:o=Ee.string(e,t,r)}return o}var Te=function(){function e(e){this.translate=e}return e.prototype.filterCollection=function(e,t,i){var r,n;void 0===i&&(i=C.chain);var o=[];if(Array.isArray(t)){o=i===C.merge?[]:e;try{for(var s=G(t),a=s.next();!a.done;a=s.next()){var l=a.value;if(i===C.merge)o=le(j(o,this.singleFilterCollection(e,l)));else o=this.singleFilterCollection(o,l)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=s["return"])&&n.call(s)}finally{if(r)throw r.error}}}else o=this.singleFilterCollection(e,t);return o},e.prototype.singleFilterCollection=function(e,t){var i=[];if(t){var r=t.property||"",n=t.operator||D.equal,o="undefined"==typeof t.value?"":t.value;switch(n){case D.equal:i=e.filter(function(e){return e[r]===o});break;case D.contains:i=e.filter(function(e){return-1!==e[r].toString().indexOf(o.toString())});break;case D.notContains:i=e.filter(function(e){return-1===e[r].toString().indexOf(o.toString())});break;case D.notEqual:default:i=e.filter(function(e){return e[r]!==o})}}return i},e.prototype.sortCollection=function(u,e,c,d){var h=this,t=[];if(c)if(Array.isArray(c))t=e.sort(function(e,t){for(var i=0,r=c.length;i<r;i++){var n=c[i];if(n){var o=n.sortDesc?A.desc:A.asc,s=n.property||"",a=n.fieldType||x.string,l=Ce(d?h.translate.instant(e[s]||" "):e[s],d?h.translate.instant(t[s]||" "):t[s],a,o,u);if(l!==A.neutral)return l}}return A.neutral});else{var r=c.property||"",n=c.sortDesc?A.desc:A.asc,o=c.fieldType||x.string;t=e.sort(function(e,t){var i=Ce(d?h.translate.instant(e[r]||" "):e[r],d?h.translate.instant(t[r]||" "):t[r],o,n,u);return i!==A.neutral?i:A.neutral})}return t},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:y.TranslateService}]},e}(),we=function(){function e(e){this.translate=e,this._lineCarriageReturn="\n",this._hasGroupedItems=!1,this.onGridBeforeExportToFile=new m.Subject,this.onGridAfterExportToFile=new m.Subject}return Object.defineProperty(e.prototype,"datasetIdName",{get:function(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t},e.prototype.exportToFile=function(e){var t=this;this.onGridBeforeExportToFile.next(!0),this._exportOptions=$.extend(!0,{},this._gridOptions.exportOptions,e);var i=this.getDataOutput();setTimeout(function(){var e={filename:t._exportOptions.filename+"."+t._exportOptions.format,csvContent:i,format:t._exportOptions.format,useUtf8WithBom:t._exportOptions.useUtf8WithBom};t.startDownloadFile(e),t.onGridAfterExportToFile.next({options:e})},0)},e.prototype.getDataOutput=function(){var t=this,e=this._grid.getColumns()||[],i=this._exportOptions.delimiter||"",r=this._exportOptions.format||"",n=this._exportOptions.groupingColumnHeaderTitle||this.translate.instant("GROUP_BY");this._exportQuoteWrapper=r===_.csv?'"':"";var o="",s=this._dataView.getGrouping();(s&&Array.isArray(s)&&0<s.length?(this._hasGroupedItems=!0,o+=""+n+i):this._hasGroupedItems=!1,this._columnHeaders=this.getColumnHeaders(e)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&0<this._columnHeaders.length)&&(o+=this._columnHeaders.map(function(e){return t._exportQuoteWrapper+e.title+t._exportQuoteWrapper}).join(i)+this._lineCarriageReturn);return o+=this.getAllGridRowData(e,this._lineCarriageReturn)},e.prototype.getAllGridRowData=function(e,t){for(var i=[],r=this._dataView.getLength(),n=0;n<r;n++){var o=this._dataView.getItem(n);null!=o&&(null!=o[this.datasetIdName]?i.push(this.readRegularRowData(e,n,o)):this._hasGroupedItems&&o.__groupTotals===undefined?i.push(this.readGroupedTitleRow(o)):o.__groupTotals&&i.push(this.readGroupedTotalRow(e,o)))}return i.join(this._lineCarriageReturn)},e.prototype.getColumnHeaders=function(e){var r=this;if(!e||!Array.isArray(e)||0===e.length)return null;var n=[];return e.forEach(function(e){var t=e.headerKey?r.translate.instant(e.headerKey):e.name,i=e.excludeFromExport||!1;(e.width===undefined||0<e.width)&&!i&&n.push({key:e.field||e.id,title:t})}),n},e.prototype.readRegularRowData=function(e,t,i){for(var r=0,n=[],o=this._exportOptions.delimiter,s=this._exportOptions.format,a=this._exportQuoteWrapper||"",l=0,u=e.length;l<u;l++){var c=e[l],d=c.field||c.id||"";if(!c.excludeFromExport){this._hasGroupedItems&&0===r&&n.push('""');var h=c.exportWithFormatter!==undefined?c.exportWithFormatter:this._exportOptions.exportWithFormatter,p=c.exportCustomFormatter!==undefined?c.exportCustomFormatter:undefined,f="";if(i&&i[d]&&p!==undefined&&null!==p)(f=m=p(t,l,i[d],c,i,this._grid))&&"object"==typeof m&&m.hasOwnProperty("text")&&(f=m.text),null===f&&(f="");else if(h&&c.formatter!==undefined&&null!==c.formatter){var m;(f=m=c.formatter(t,l,i[d],c,i,this._grid))&&"object"==typeof m&&m.hasOwnProperty("text")&&(f=m.text),null===f&&(f="")}else null===(f=null===i[d]||i[d]===undefined?"":i[d])&&(f="");(c.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(f=oe(f)),s===_.csv&&f&&(f=f.toString().replace(/"/gi,'""'));var g=c&&c.exportCsvForceToKeepAsString?"=":"";n.push(g+a+f+a),r++}}return n.join(o)},e.prototype.readGroupedTitleRow=function(e){var t=oe(e.title),i=this._exportQuoteWrapper||"",r=this._exportOptions.format;return t=U(5*e.level)+t,r===_.csv&&(t=t.toString().replace(/"/gi,'""')),i+" "+t+i},e.prototype.readGroupedTotalRow=function(e,i){var r=this,t=this._exportOptions.delimiter,n=this._exportOptions.format,o=this._exportOptions.groupingAggregatorRowText||"",s=this._exportQuoteWrapper||"",a=[""+s+o+s];return e.forEach(function(e){var t="";e.groupTotalsFormatter&&(t=e.groupTotalsFormatter(i,e)),(e.sanitizeDataExport||r._exportOptions.sanitizeDataExport)&&(t=oe(t)),n===_.csv&&(t=t.toString().replace(/"/gi,'""')),a.push(s+t+s)}),a.join(t)},e.prototype.startDownloadFile=function(e){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.");var t,i=e.format===_.csv?"text/csv":"text/plain",r=Q(e.csvContent);t=e.format===_.csv?new a.TextEncoder("utf-8").encode(r):r;var n=new Blob([e.useUtf8WithBom?"\ufeff":"",t],{type:i+";charset=utf-8;"});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,e.filename);else{var o=document.createElement("a"),s=URL.createObjectURL(n);o.textContent="download",o.href=s,o.setAttribute("download",e.filename),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:y.TranslateService}]},e}(),xe=function(){function e(){}return e.TEXT_CANCEL="Cancel",e.TEXT_CLEAR_ALL_FILTERS="Clear All Filters",e.TEXT_CLEAR_ALL_SORTING="Clear All Sorting",e.TEXT_COLUMNS="Columns",e.TEXT_COMMANDS="Commands",e.TEXT_EXPORT_IN_CSV_FORMAT="Export in CSV format",e.TEXT_EXPORT_IN_TEXT_FORMAT="Export in Text format (Tab delimited)",e.TEXT_FORCE_FIT_COLUMNS="Force fit columns",e.TEXT_HIDE_COLUMN="Hide Column",e.TEXT_REFRESH_DATASET="Refresh Dataset",e.TEXT_REMOVE_FILTER="Remove Filter",e.TEXT_REMOVE_SORT="Remove Sort",e.TEXT_SAVE="Save",e.TEXT_SYNCHRONOUS_RESIZE="Synchronous resize",e.TEXT_SORT_ASCENDING="Sort Ascending",e.TEXT_SORT_DESCENDING="Sort Descending",e.TEXT_TOGGLE_FILTER_ROW="Toggle Filter Row",e.TEXT_TOGGLE_PRE_HEADER_ROW="Toggle Pre-Header Row",e.VALIDATION_REQUIRED_FIELD="Field is required",e.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",e.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",e.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",e.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",e.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",e.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",e.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",e.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",e.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",e}(),De=function(){function e(){}return Object.defineProperty(e.prototype,"allColumns",{get:function(){return this._allColumns},set:function(e){this._allColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._dataView=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},set:function(e){this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},set:function(e){this.gridOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupItemMetadataProvider",{get:function(){return this._groupItemMetadataProvider},set:function(e){this._groupItemMetadataProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this._visibleColumns},set:function(e){this._visibleColumns=e},enumerable:!0,configurable:!0}),e}(),Ie=function(){function e(e,t){this.sharedService=e,this.translate=t}return e.prototype.arrayRemoveItemByIndex=function(e,i){return e.filter(function(e,t){return i!==t})},e.prototype.loadExtensionDynamically=function(e){try{switch(e){case O.autoTooltip:require("slickgrid/plugins/slick.autotooltips");break;case O.cellExternalCopyManager:require("slickgrid/plugins/slick.cellexternalcopymanager");break;case O.checkboxSelector:require("slickgrid/plugins/slick.checkboxselectcolumn");break;case O.columnPicker:require("slickgrid/controls/slick.columnpicker");break;case O.draggableGrouping:require("slickgrid/plugins/slick.draggablegrouping.js");break;case O.gridMenu:require("slickgrid/controls/slick.gridmenu");break;case O.groupItemMetaProvider:require("slickgrid/slick.groupitemmetadataprovider");break;case O.headerButton:require("slickgrid/plugins/slick.headerbuttons");break;case O.headerMenu:require("slickgrid/plugins/slick.headermenu");break;case O.rowSelection:require("slickgrid/plugins/slick.rowselectionmodel");break;case O.rowDetailView:require("slickgrid/plugins/slick.rowdetailview.js");break;case O.rowMoveManager:require("slickgrid/plugins/slick.rowmovemanager.js")}}catch(t){}},e.prototype.getPickerTitleOutputString=function(e,t){var i="",r=this.sharedService.gridOptions&&this.sharedService.gridOptions[t]||{},n=this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate||!1,o=r&&r[e],s=r&&r[e+"Key"];if(s)i=this.translate.instant(s||" ");else switch(e){case"customTitle":i=o||(n?this.translate.instant("COMMANDS"):xe.TEXT_COMMANDS);break;case"columnTitle":i=o||(n?this.translate.instant("COLUMNS"):xe.TEXT_COLUMNS);break;case"forceFitTitle":i=o||(n?this.translate.instant("FORCE_FIT_COLUMNS"):xe.TEXT_FORCE_FIT_COLUMNS);break;case"syncResizeTitle":i=o||(n?this.translate.instant("SYNCHRONOUS_RESIZE"):xe.TEXT_SYNCHRONOUS_RESIZE);break;default:i=o}return i},e.prototype.sortItems=function(e,i){e.sort(function(e,t){return e&&t&&e.hasOwnProperty(i)&&t.hasOwnProperty(i)?e[i]-t[i]:0})},e.prototype.translateItems=function(e,t,i){var r,n;try{for(var o=G(e),s=o.next();!s.done;s=o.next()){var a=s.value;a[t]&&(a[i]=this.translate.instant(a[t]))}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:De},{type:y.TranslateService}]},e}(),Ae=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(O.autoTooltip),this._extension=new Slick.AutoTooltips(this.sharedService.gridOptions.autoTooltipOptions||{}),this.sharedService.grid.registerPlugin(this._extension),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),Pe=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var o=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(O.cellExternalCopyManager),this.createUndoRedoBuffer(),this.hookUndoShortcutKey();var r=0,e={clipboardCommandHandler:function(e){o._undoRedoBuffer.queueAndExecuteCommand.call(o._undoRedoBuffer,e)},dataItemColumnValueExtractor:function(e,t){if(!o.sharedService.gridOptions.editable||!t.editor){var i=t.exportWithFormatter!==undefined?t.exportWithFormatter:o.sharedService.gridOptions.exportOptions&&o.sharedService.gridOptions.exportOptions.exportWithFormatter;if(t.formatter&&i){var r=t.formatter(0,0,e[t.field],t,e,o.sharedService.grid);if(t.sanitizeDataExport||o.sharedService.gridOptions.exportOptions&&o.sharedService.gridOptions.exportOptions.sanitizeDataExport){var n=r;return r&&"object"==typeof r&&r.hasOwnProperty("text")&&(n=r.text),null===n&&(n=""),oe(n)}return r}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(e){for(var t=0;t<e;t++){var i={id:"newRow_"+r++};o.sharedService.grid.getData().addItem(i)}}};return this.sharedService.grid.setSelectionModel(new Slick.CellSelectionModel),this._extension=new Slick.CellExternalCopyManager(e),this.sharedService.grid.registerPlugin(this._extension),this._extension}return null},e.prototype.createUndoRedoBuffer=function(){var t=[],i=0;this._undoRedoBuffer={queueAndExecuteCommand:function(e){t[i]=e,i++,e.execute()},undo:function(){if(0!==i){var e=t[--i];e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.undo()}},redo:function(){if(!(i>=t.length)){var e=t[i];i++,e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.execute()}}}},e.prototype.hookUndoShortcutKey=function(){var t=this;$(document).keydown(function(e){90===e.which&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?t._undoRedoBuffer.redo():t._undoRedoBuffer.undo())})},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),ke=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.create=function(e,t){if(e&&t){this.extensionUtility.loadExtensionDynamically(O.checkboxSelector),this._extension||(this._extension=new Slick.CheckboxSelectColumn(t.checkboxSelector||{}));var i=this._extension.getColumnDefinition();return i.excludeFromExport=!0,i.excludeFromQuery=!0,i.excludeFromHeaderMenu=!0,e.unshift(i),this._extension}return null},e.prototype.register=function(e){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._extension),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(O.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.gridOptions.preselectedRows&&e&&this.sharedService.grid.getSelectionModel()&&setTimeout(function(){return t._extension.selectRows(t.sharedService.gridOptions.preselectedRows)},0),e):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),Fe=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(O.columnPicker);var e=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),t=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),r=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker");return this.sharedService.gridOptions.columnPicker=this.sharedService.gridOptions.columnPicker||{},this.sharedService.gridOptions.columnPicker.columnTitle=this.sharedService.gridOptions.columnPicker.columnTitle||e,this.sharedService.gridOptions.columnPicker.forceFitTitle=this.sharedService.gridOptions.columnPicker.forceFitTitle||t,this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.sharedService.gridOptions.columnPicker.syncResizeTitle||r,this._extension=new Slick.Controls.ColumnPicker(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.enableColumnPicker&&this._eventHandler.subscribe(this._extension.onColumnsChanged,function(e,t){i.sharedService.gridOptions.columnPicker&&"function"==typeof i.sharedService.gridOptions.columnPicker.onColumnsChanged&&i.sharedService.gridOptions.columnPicker.onColumnsChanged(e,t)}),this._extension}},e.prototype.translateColumnPicker=function(){this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&(this.sharedService.gridOptions.columnPicker&&(this.emptyColumnPickerTitles(),this.sharedService.gridOptions.columnPicker.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._extension.init&&this._extension.init(this.sharedService.grid))},e.prototype.emptyColumnPickerTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.columnPicker&&(this.sharedService.gridOptions.columnPicker.columnTitle="",this.sharedService.gridOptions.columnPicker.forceFitTitle="",this.sharedService.gridOptions.columnPicker.syncResizeTitle="")},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),Ve=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.create=function(e){return this.extensionUtility.loadExtensionDynamically(O.draggableGrouping),!this._extension&&e&&(this._extension=new Slick.DraggableGrouping(e.draggableGrouping||{})),this._extension},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.draggableGrouping&&(this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered&&this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onGroupChanged,function(e,t){i.sharedService.gridOptions.draggableGrouping&&"function"==typeof i.sharedService.gridOptions.draggableGrouping.onGroupChanged&&i.sharedService.gridOptions.draggableGrouping.onGroupChanged(e,t)})),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}();function Re(e){return/(true|1)/i.test(e+"")}var Me=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return Re(e.cellValue)===Re(t)},Ne=function(e,t,i){switch(e){case"<":case"LT":return t<i;case"<=":case"LE":return t<=i;case">":case"GT":return i<t;case">=":case"GE":return i<=t;case"!=":case"<>":case"NE":return t!==i;case"=":case"==":case"EQ":return t===i;case"IN":return!(!i||!i.includes)&&i.includes(t);case"NIN":case"NOT_IN":return!(!i||!i.includes)&&!i.includes(t);case"IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&-1<i.findIndex(function(e){return-1<t.indexOf(e)});case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&!(-1<i.findIndex(function(e){return-1<t.indexOf(e)}))}return!0},$e=s,Le=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"",i=J(e.filterSearchType||x.dateIso);if(null===t||""===t||!$e(e.cellValue,$e.ISO_8601).isValid()||!$e(t,i,!0).isValid())return!1;var r=$e(e.cellValue),n=$e(t);return Ne(e.operator||"==",parseInt(r.format("X"),10),parseInt(n.format("X"),10))},Ge=s,He=J(x.dateIso),je=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Ge(e.cellValue,He,!0).isValid()||!Ge(t,He,!0).isValid())return!1;var i=Ge(e.cellValue,He,!0),r=Ge(t,He,!0);return Ne(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Be=s,Ue=J(x.dateUs),ze=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Be(e.cellValue,Ue,!0).isValid()||!Be(t,Ue,!0).isValid())return!1;var i=Be(e.cellValue,Ue,!0),r=Be(t,Ue,!0);return Ne(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Qe=s,qe=J(x.dateUsShort),We=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Qe(e.cellValue,qe,!0).isValid()||!Qe(t,qe,!0).isValid())return!1;var i=Qe(e.cellValue,qe,!0),r=Qe(t,qe,!0);return Ne(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Ye=s,Xe=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"",i=J(e.filterSearchType||e.fieldType);if(!Ye(e.cellValue,Ye.ISO_8601).isValid()||!Ye(t,i,!0).isValid())return!1;var r=Ye(e.cellValue,Ye.ISO_8601,!0),n=Ye(t,i,!0);return Ne(e.operator||"==",parseInt(r.format("X"),10),parseInt(n.format("X"),10))},Ke=function(e){var t=e.cellValue+"";return Ne(e.operator||"IN",t,e.searchTerms||[])},Ze=function(e){var t=parseFloat(e.cellValue),i=Array.isArray(e.searchTerms)&&e.searchTerms[0]||0;return"string"==typeof i&&(i=parseFloat(i)),!(i||e.operator&&""!==e.operator)||Ne(e.operator||"==",t,i)},Je=function(e){e.cellValue=e.cellValue===undefined||null===e.cellValue?"":e.cellValue.toString();var t=e.cellValue.toLowerCase(),i=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return"string"==typeof i&&(i=i.toLowerCase()),"*"===e.operator||e.operator===D.endsWith?t.endsWith(i):""===e.operator&&"*"===e.cellValueLastChar||e.operator===D.startsWith?t.startsWith(i):""===e.operator?t.includes(i):Ne(e.operator||"==",t,i)},et=function(e){var t=e&&e.operator&&e.operator.toUpperCase();if("IN"===t||"NIN"===t||"IN_CONTAINS"===t||"NIN_CONTAINS"===t)return Ke(e);switch(e.fieldType){case x["boolean"]:return Me(e);case x.date:return Le(e);case x.dateUtc:return Xe(e);case x.dateIso:return je(e);case x.dateUs:case x.dateTimeUs:return ze(e);case x.dateUsShort:case x.dateTimeUsShort:return We(e);case x.number:return Ze(e);case x.object:return function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return!(t||e.operator&&""!==e.operator)||function(e,t,i){if(i&&(e.hasOwnProperty(i)||t.hasOwnProperty(i)))return e[i]===t||e===t[i]||e[i]===t[i];for(var r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;for(var r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}(e.cellValue,t,e.dataKey)}(e);case x.string:default:return Je(e)}},tt={executeMappedCondition:et,booleanFilter:Me,collectionSearchFilter:Ke,dateFilter:Le,dateIsoFilter:je,dateUtcFilter:Xe,dateUsFilter:ze,dateUsShortFilter:We,numberFilter:Ze,stringFilter:Je,testFilter:Ne},it=function(){function e(e,t){this.translate=e,this.collectionService=t,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.isFilled=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[]}return Object.defineProperty(e.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||D.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');if(this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],!(this.grid&&this.columnDef&&this.columnFilter&&(this.columnFilter.collection||this.columnFilter.collectionAsync||this.columnFilter.filterOptions)))throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autoComplete, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value";var t=this.columnFilter.collection||[];this.renderDomElement(t);var i=this.columnFilter&&this.columnFilter.collectionAsync;i&&this.renderOptionsAsync(i)},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("keyup"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup input change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.filterCollection=function(e){var t=e;if(this.columnFilter&&this.columnFilter.collectionFilterBy){var i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,i,r)}return t},e.prototype.sortCollection=function(e){var t=e;if(this.columnFilter&&this.columnFilter.collectionSortBy){var i=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},e.prototype.renderOptionsAsync=function(i){return N(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return t=[],i?[4,W(i)]:[3,2];case 1:t=e.sent(),this.renderDomElementFromCollectionAsync(t),this.createCollectionAsyncSubject(),e.label=2;case 2:return[2]}})})},e.prototype.createCollectionAsyncSubject=function(){var t=this,e=new m.Subject;this.columnFilter.collectionAsync=e,this.subscriptions.push(e.subscribe(function(e){return t.renderDomElementFromCollectionAsync(e)}))},e.prototype.renderDomElementFromCollectionAsync=function(e){if(this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=K(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the AutoComplete Filter, the collection is not a valid array.');this.columnFilter.collection=e,this.renderDomElement(e)},e.prototype.renderDomElement=function(e){var r=this;if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=K(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Autocomplete Filter is not a valid array');var t=e;t=this.filterCollection(t),t=this.sortCollection(t);var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",n=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(n,t,i),this.$filterElm.on("keyup input change",function(e){var t=e&&e.target&&e.target.value||"",i=r.gridOptions.enableFilterTrimWhiteSpace||r.columnFilter.enableTrimWhiteSpace;"string"==typeof t&&i&&(t=t.trim()),r._clearFilterTriggered?(r.callback(e,{columnDef:r.columnDef,clearFilterTriggered:r._clearFilterTriggered,shouldTriggerQuery:r._shouldTriggerQuery}),r.$filterElm.removeClass("filled")):""===t?(r.$filterElm.removeClass("filled"),r.callback(e,{columnDef:r.columnDef,operator:r.operator,searchTerms:[t],shouldTriggerQuery:r._shouldTriggerQuery})):r.$filterElm.addClass("filled"),r._clearFilterTriggered=!1,r._shouldTriggerQuery=!0})},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(t=this.columnFilter.placeholder),'<input type="text" role="presentation" autocomplete="off" class="form-control autocomplete search-filter filter-'+e+'" placeholder="'+t+'">'},e.prototype.createDomElement=function(e,t,i){var r=this,n=this.columnDef&&this.columnDef.id,o=this.grid.getHeaderRowColumn(n);$(o).empty();var s=$(e),a=i;Array.isArray(t)&&this.customStructure&&(t=t.map(function(e){return{label:e[r.labelName],value:e[r.valueName]}}));var l=this.columnFilter.filterOptions;if(l)l.select=function(e,t){return r.onSelect(e,t)},s.autocomplete(l);else{if(!Array.isArray(t))throw new Error('AutoComplete default implementation requires a "collection" or "collectionAsync" to be provided for the filter to work properly');s.autocomplete({minLength:0,source:t,select:function(e,t){return r.onSelect(e,t)}})}return s.val(a),s.attr("id","filter-"+n),s.data("columnId",n),i&&s.addClass("filled"),s&&"function"==typeof s.appendTo&&s.appendTo(o),s},e.prototype.onSelect=function(e,t){if(t&&t.item){var i="string"==typeof t.item?t.item:t.item.label,r="string"==typeof t.item?t.item:t.item.value;this.$filterElm.val(i),this.callback(e,{columnDef:this.columnDef,operator:this.operator,searchTerms:[r],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:y.TranslateService},{type:Te}]},e}();require("flatpickr");var rt,nt=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||D.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.keyup(function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){t.onTriggerEvent(e)})}},e.prototype.clear=function(e){void 0===e&&(e=!0),this.flatInstance&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$selectOperatorElm.val(0),this.flatInstance.clear())},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup").remove()},e.prototype.setValues=function(e){this.flatInstance&&e&&Array.isArray(e)&&this.flatInstance.setDate(e[0])},e.prototype.buildDatePickerInput=function(e){var r=this,t=ee(this.columnDef.type||x.dateIso),i=ee(this.columnDef.outputType||this.columnDef.type||x.dateUtc),n=this.translate.currentLang||"en";2<n.length&&(n=n.substring(0,2));var o={defaultDate:e||"",altInput:!0,altFormat:i,dateFormat:t,wrap:!0,closeOnSelect:!0,locale:"en"!==n?this.loadFlatpickrLocale(n):"en",onChange:function(e,t,i){r._currentValue=t,o.enableTime?r.onTriggerEvent(new CustomEvent("keyup")):r.onTriggerEvent(undefined)}};i&&("Z"===i||i.toLowerCase().includes("h"))&&(o.enableTime=!0);var s=M({},o,this.columnFilter.filterOptions),a=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(a=this.columnFilter.placeholder);var l=$('<div class="flatpickr"><input type="text" class="form-control" data-input placeholder="'+a+'"></div>');return this.flatInstance=l[0]&&"function"==typeof l[0].flatpickr?l[0].flatpickr(s):u(l,s),l},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=this.buildDatePickerInput(e);var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group flatpickr"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&(r.addClass("filled"),this._currentValue=e),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},e.prototype.loadFlatpickrLocale=function(e){if(this.gridOptions&&this.gridOptions.params&&this.gridOptions.params.flapickrLocale)return this.gridOptions.params.flapickrLocale;if("en"===e)return"en";var t=require("flatpickr/dist/l10n/"+e+".js")["default"];return t&&t[e]?t[e]:"en"},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled");else{var t=this.$selectOperatorElm.find("option:selected").text();this._currentValue?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},e.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},e.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},e}(),ot=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._inputType="text"}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||D.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.on("keyup input change",function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.on("change",function(e){t.onTriggerEvent(e)})},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$selectOperatorElm.val(0),this.$filterInputElm.val(""),this.onTriggerEvent(null))},e.prototype.destroy=function(){this.$filterElm&&this.$selectOperatorElm&&(this.$filterElm.off("keyup input change").remove(),this.$selectOperatorElm.off("change"))},e.prototype.setValues=function(e){e&&Array.isArray(e)&&this.$filterElm.val(e[0])},e.prototype.buildInputHtmlString=function(){var e=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(e=this.columnFilter.placeholder),'<input type="'+(this._inputType||"text")+'" role="presentation"  autocomplete="off" class="form-control" placeholder="'+e+'" /><span></span>'},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){var e=[];switch(this.columnDef.type&&this.columnDef.type?this.columnDef.type:x.string){case x.string:e=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:this.translate.instant("EQUALS")},{operator:"a*",description:this.translate.instant("STARTS_WITH")},{operator:"*z",description:this.translate.instant("ENDS_WITH")}];break;default:e=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]}return e},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildInputHtmlString());var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.val(e),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&r.addClass("filled"),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled");else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val(),r=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof i&&r&&(i=i.trim()),null!==i&&i!==undefined&&""!==i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},e}(),st=function(i){function e(e){var t=i.call(this,e)||this;return t.translate=e,t.inputType="number",t}return R(e,i),e}(ot),at=function(i){function e(e){var t=i.call(this,e)||this;return t.translate=e,t.inputType="password",t}return R(e,i),e}(ot),lt=function(){function e(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||D.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(t),this.$filterInputElm.change(function(e){i.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){i.onTriggerEvent(e)}),this.filterParams.hideSliderNumber||this.$filterInputElm.on("input change",function(e){var t=e&&e.target&&e.target.value||"";t&&(document.getElementById(i._elementRangeOutputId).innerHTML=t)})}},e.prototype.clear=function(e){if(void 0===e&&(e=!0),this.$filterElm&&this.$selectOperatorElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[];var t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$selectOperatorElm.val(0),this.$filterInputElm.val(t),this.filterParams.hideSliderNumber||this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(t),this.onTriggerEvent(undefined),this.$filterElm.removeClass("filled")}},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("input change").remove()},e.prototype.setValues=function(e){e&&Array.isArray(e)&&(this.$filterInputElm.val(e[0]),this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(e[0]))},e.prototype.buildTemplateHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,i=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e,r=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return'<input type="range" id="'+this._elementRangeInputId+'"\n              name="'+this._elementRangeInputId+'"\n              defaultValue="'+i+'" min="'+e+'" max="'+t+'" step="'+r+'"\n              class="form-control slider-filter-input range compound-slider" />'},e.prototype.buildTemplateSliderTextHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e;return'<div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+t+"</span></div>"},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=e||"0",r=this.grid.getHeaderRowColumn(this.columnDef.id);$(r).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildTemplateHtmlString());var n=$('<div class="form-group search-filter filter-'+t+'"></div>');this.$containerInputGroupElm=$('<div class="input-group search-filter filter-'+t+'"></div>');var o=$('<span class="input-group-addon input-group-prepend operator"></span>');if(o.append(this.$selectOperatorElm),this.$containerInputGroupElm.append(o),this.$containerInputGroupElm.append(this.$filterInputElm),!this.filterParams.hideSliderNumber){var s=$(this.buildTemplateSliderTextHtmlString());s.children().html(i),this.$containerInputGroupElm.append(s)}return n.append(this.$containerInputGroupElm),n.attr("id","filter-"+t),this.$filterInputElm.val(i),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery});else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val();i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0},e}(),ut=function(){function e(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._inputType="text"}return Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var r=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",i=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(i,t),this.$filterElm.on("keyup input change",function(e){var t=e&&e.target&&e.target.value||"",i=r.gridOptions.enableFilterTrimWhiteSpace||r.columnFilter.enableTrimWhiteSpace;"string"==typeof t&&i&&(t=t.trim()),r._clearFilterTriggered?(r.callback(e,{columnDef:r.columnDef,clearFilterTriggered:r._clearFilterTriggered,shouldTriggerQuery:r._shouldTriggerQuery}),r.$filterElm.removeClass("filled")):(""===t?r.$filterElm.removeClass("filled"):r.$filterElm.addClass("filled"),r.callback(e,{columnDef:r.columnDef,operator:r.operator,searchTerms:[t],shouldTriggerQuery:r._shouldTriggerQuery})),r._clearFilterTriggered=!1,r._shouldTriggerQuery=!0})},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("keyup"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup input change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return this.columnFilter&&this.columnFilter.placeholder&&(t=this.columnFilter.placeholder),'<input type="'+(this._inputType||"text")+'" role="presentation"  autocomplete="off" class="form-control search-filter filter-'+e+'" placeholder="'+t+'"><span></span>'},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e);return n.val(t),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),ct=function(t){function e(){var e=t.call(this)||this;return e.inputType="text",e}return R(e,t),Object.defineProperty(e.prototype,"inputMask",{get:function(){return this.columnDef.params&&this.columnDef.params&&this.columnDef.params.mask},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var s=this;if(!e)throw new Error('[Aurelia-SlickGrid] A filter must always have an "init()" with valid arguments.');this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",i=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(i,t),this.$filterElm.on("keyup input change",function(e){var t="";if(e&&e.target&&e.target.value){var i=e.target.value,r=s.gridOptions.enableFilterTrimWhiteSpace||s.columnFilter.enableTrimWhiteSpace;"string"==typeof i&&r&&(i=i.trim());var n=s.unmaskValue(i),o=s.maskValue(n);t=n,48<=e.keyCode&&(s.$filterElm.val(o),e.preventDefault())}s._clearFilterTriggered?(s.callback(e,{columnDef:s.columnDef,clearFilterTriggered:s._clearFilterTriggered,shouldTriggerQuery:s._shouldTriggerQuery}),s.$filterElm.removeClass("filled")):(s.$filterElm.addClass("filled"),s.callback(e,{columnDef:s.columnDef,operator:s.operator,searchTerms:[t],shouldTriggerQuery:s._shouldTriggerQuery})),s._clearFilterTriggered=!1,s._shouldTriggerQuery=!0})},e.prototype.maskValue=function(t){var i=0,e="";return this.inputMask&&(e=this.inputMask.replace(/[09A]/gi,function(e){return(("0"===e||"9"===e)&&/\d+/g.test(t[i])||"A"===e.toUpperCase()&&/[^\d]+/gi.test(t[i]))&&t[i++]||""})),e},e.prototype.unmaskValue=function(e){for(var t=e.replace(/[^0-9a-z]*/gi,""),i=this.inputMask.replace(/[^0-9a-z]*/gi,""),r="",n=0;n<i.length;n++)t[n]&&(("0"===i[n]||"9"===i[n])&&/\d+/g.test(t[n])||"A"===i[n].toUpperCase()&&/[^\d]+/gi.test(t[n]))&&(r+=t[n]);return r},e}(ut),dt=function(t){function e(){var e=t.call(this)||this;return e.inputType="number",e}return R(e,t),e}(ut),ht=function(t){function e(){var e=t.call(this)||this;return e.inputType="password",e}return R(e,t),e}(ut),pt=l,ft=function(){function e(e,t,i){void 0===i&&(i=!0);var r=this;this.translate=e,this.collectionService=t,this.isMultipleSelect=i,this._isFilterFirstRender=!0,this._shouldTriggerQuery=!0,this.isFilled=!1;var n={autoAdjustDropHeight:!(this.enableTranslateLabel=!1),autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!(this.subscriptions=[]),maxHeight:275,single:!0,textTemplate:function(e){return r.columnDef&&r.columnDef.filter&&r.columnDef.filter.enableRenderHtml||!1?e.text():e.html()},onClose:function(){var e=r.$filterElm.multipleSelect("getSelects");Array.isArray(e)&&1<e.length||1===e.length&&""!==e[0]?(r.isFilled=!0,r.$filterElm.addClass("filled").siblings("div .search-filter").addClass("filled")):(r.isFilled=!1,r.$filterElm.removeClass("filled"),r.$filterElm.siblings("div .search-filter").removeClass("filled")),r.callback(undefined,{columnDef:r.columnDef,operator:r.operator,searchTerms:e,shouldTriggerQuery:r._shouldTriggerQuery}),r._shouldTriggerQuery=!0}};this.isMultipleSelect&&(n.single=!1,n.okButton=!0,n.addTitle=!0,n.countSelected=this.translate.instant("X_OF_Y_SELECTED"),n.allSelected=this.translate.instant("ALL_SELECTED"),n.selectAllText=this.translate.instant("SELECT_ALL"),n.selectAllDelimiter=["",""]),this.defaultOptions=n}return Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator?this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator:this.isMultipleSelect?D["in"]:D.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){if(this._isFilterFirstRender=t,this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");if(this.enableTranslateLabel=this.columnFilter.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.translate||"function"!=typeof this.translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Filter to work correctly");var i=this.columnFilter.collection||[];this.renderDomElement(i);var r=this.columnFilter&&this.columnFilter.collectionAsync;r&&this.renderOptionsAsync(r)},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&this.$filterElm.multipleSelect&&(this.$filterElm.multipleSelect("setSelects",[]),this.$filterElm.removeClass("filled"),this.$filterElm.siblings("div .search-filter").removeClass("filled"),this.searchTerms=[],this._shouldTriggerQuery=e,this.callback(undefined,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)},e.prototype.destroy=function(){if(this.$filterElm){this.$filterElm.off().remove();var e=this.elementName.toString().replace(".","\\.");$("[name="+e+"].ms-drop").remove()}this.subscriptions=ue(this.subscriptions)},e.prototype.setValues=function(e){e&&(e=Array.isArray(e)?e:[e],this.$filterElm.multipleSelect("setSelects",e))},e.prototype.filterCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionFilterBy){var i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,i,r)}return t},e.prototype.sortCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionSortBy){var i=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},e.prototype.renderOptionsAsync=function(i){return N(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return t=[],i?[4,W(i)]:[3,2];case 1:t=e.sent(),this.renderDomElementFromCollectionAsync(t),this.createCollectionAsyncSubject(),e.label=2;case 2:return[2]}})})},e.prototype.createCollectionAsyncSubject=function(){var t=this,e=new m.Subject;this.columnFilter.collectionAsync=e,this.subscriptions.push(e.subscribe(function(e){return t.renderDomElementFromCollectionAsync(e)}))},e.prototype.renderDomElementFromCollectionAsync=function(e){if(this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=K(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Select Filter, the collection is not a valid array.');this.columnFilter.collection=e,this.renderDomElement(e)},e.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=K(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Filter is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&this._isFilterFirstRender&&e.unshift(this.createBlankEntry());var t=e;t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t,this.searchTerms);this.createDomElement(i)},e.prototype.buildTemplateHtmlString=function(e,l){var u=this,c="",t=this.columnDef&&this.columnDef.id,d=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",h=this.columnFilter&&this.columnFilter.enableRenderHtml||!1,p=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(t){var e=0<=l.findIndex(function(e){return e===t})?"selected":"";c+='<option value="'+t+'" label="'+t+'" '+e+">"+t+"</option>",e&&(u.isFilled=!0)}):e.forEach(function(t){if(!t||t[u.labelName]===undefined&&t.labelKey===undefined)throw new Error("[select-filter] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");var e=t.labelKey||t[u.labelName],i=0<=l.findIndex(function(e){return e===t[u.valueName]})?"selected":"",r=(t.labelKey||u.enableTranslateLabel)&&e?u.translate.instant(e||" "):e,n=t[u.labelPrefixName]||"",o=t[u.labelSuffixName]||"",s=t[u.optionLabel]||"";s=s.toString().replace(/\"/g,"'"),n=u.enableTranslateLabel&&n&&"string"==typeof n?u.translate.instant(n||" "):n,o=u.enableTranslateLabel&&o&&"string"==typeof o?u.translate.instant(o||" "):o,s=u.enableTranslateLabel&&s&&"string"==typeof s?u.translate.instant(s||" "):s;var a=[n,r,o].filter(function(e){return e}).join(d);h&&(a=z(pt.sanitize(a,p)));c+='<option value="'+t[u.valueName]+'" label="'+s+'" '+i+">"+a+"</option>",i&&(u.isFilled=!0)}),'<select class="ms-filter search-filter filter-'+t+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+c+"</select>"},e.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id;this.elementName="filter-"+t,this.defaultOptions.name=this.elementName;var i=this.grid.getHeaderRowColumn(t);if($(i).empty(),this.$filterElm=$(e),"function"!=typeof this.$filterElm.multipleSelect)throw new Error('multiple-select.js was not found, make sure to modify your "angular-cli.json" file and include "../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js" and it\'s css or SASS file');this.$filterElm.attr("id",this.elementName),this.$filterElm.attr("name",this.elementName),this.$filterElm.data("columnId",t),this.isFilled&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(i);var r=M({},this.defaultOptions,this.columnFilter.filterOptions);this.filterElmOptions=M({},this.defaultOptions,r),this.$filterElm=this.$filterElm.multipleSelect(this.filterElmOptions)},e}(),mt=function(r){function e(e,t){var i=r.call(this,e,t,!0)||this;return i.translate=e,i.collectionService=t,i}return R(e,r),e}(ft),gt=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||D.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";"boolean"!=typeof t&&"number"!=typeof t||(t=""+t);var r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,t),this.$filterElm.change(function(e){var t=e&&e.target&&e.target.value||"";i._clearFilterTriggered?(i.callback(e,{columnDef:i.columnDef,clearFilterTriggered:i._clearFilterTriggered,shouldTriggerQuery:i._shouldTriggerQuery}),i.$filterElm.removeClass("filled")):(""===t?i.$filterElm.removeClass("filled"):i.$filterElm.addClass("filled"),i.callback(e,{columnDef:i.columnDef,operator:i.operator,searchTerms:[t],shouldTriggerQuery:i._shouldTriggerQuery})),i._clearFilterTriggered=!1,i._shouldTriggerQuery=!0})},e.prototype.clear=function(e){void 0===e&&(e=!0),this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("change"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var r=this;if(!this.columnDef||!this.columnDef.filter||!this.columnDef.filter.collection)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the Select Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.select, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");var e=this.columnDef&&this.columnDef.id,t=this.columnDef.filter.collection||[],n=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",o=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value",s="";return t.every(function(e){return"string"==typeof e})?t.forEach(function(e){s+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):t.forEach(function(e){if(!e||e[n]===undefined&&e.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.select, collection: [ { value: '1', label: 'One' } ]')");var t=e.labelKey||e[n],i=(e.labelKey||r.columnDef.filter.enableTranslateLabel)&&r.translate&&"function"==typeof r.translate.instant?r.translate.instant(t||" "):t;s+='<option value="'+e[o]+'">'+i+"</option>"}),'<select class="form-control search-filter filter-'+e+'">'+s+"</select>"},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"";return n.val(o),n.attr("id","filter-"+i),n.data("columnId",i),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),vt=function(r){function e(e,t){var i=r.call(this,e,t,!1)||this;return i.translate=e,i.collectionService=t,i}return R(e,r),e}(ft),yt=function(){function e(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return Object.defineProperty(e.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||D.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,t),this.$filterElm.change(function(e){var t=e&&e.target&&e.target.value||"";i._clearFilterTriggered?(i.callback(e,{columnDef:i.columnDef,clearFilterTriggered:i._clearFilterTriggered,shouldTriggerQuery:i._shouldTriggerQuery}),i.$filterElm.removeClass("filled")):(""===t?i.$filterElm.removeClass("filled"):i.$filterElm.addClass("filled"),i.callback(e,{columnDef:i.columnDef,operator:i.operator,searchTerms:[t],shouldTriggerQuery:i._shouldTriggerQuery})),i._clearFilterTriggered=!1,i._shouldTriggerQuery=!0}),this.filterParams.hideSliderNumber||this.$filterElm.on("input change",function(e){var t=e&&e.target&&e.target.value||"";t&&(document.getElementById(i._elementRangeOutputId).innerHTML=t)})},e.prototype.clear=function(e){if(void 0===e&&(e=!0),this.$filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=e,this.searchTerms=[];var t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$filterElm.children("input").val(t),this.$filterElm.children("div.input-group-addon.input-group-append").children().html(t),this.$filterElm.trigger("change")}},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,i=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,r=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:t,n=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return this.filterParams.hideSliderNumber?'\n      <div class="search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n      </div>':'\n      <div class="input-group search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n        <div class="input-group-addon input-group-append slider-value">\n          <span class="input-group-text" id="'+this._elementRangeOutputId+'">'+r+"</span>\n        </div>\n      </div>"},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"0";return n.children("input").val(o),n.children("div.input-group-addon.input-group-append").children().html(o),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),St={autoComplete:it,compoundDate:nt,compoundInput:ot,compoundInputNumber:st,compoundInputPassword:at,compoundInputText:ot,compoundSlider:lt,input:ut,inputMask:ct,inputNumber:dt,inputPassword:ht,inputText:ut,multipleSelect:mt,select:gt,singleSelect:vt,slider:yt},bt={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,sidePadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0},datasetIdPropertyName:"id",defaultFilter:St.input,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"&#128269;",editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableExport:!0,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,exportOptions:{delimiter:S.comma,exportWithFormatter:!1,filename:"export",format:_.csv,groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},forceFitColumns:!1,gridMenu:{hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideExportCsvCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconExportCsvCommand:"fa fa-download",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",iconTogglePreHeaderCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!0},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"fa fa-filter text-danger",iconClearSortCommand:"fa fa-unsorted",iconSortAscCommand:"fa fa-sort-amount-asc",iconSortDescCommand:"fa fa-sort-amount-desc",iconColumnHideCommand:"fa fa-times",hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideSortCommands:!1},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!0,useSimpleViewportCalc:!0,saveDetailViewOnScroll:!1,process:function(){return new Promise(function(e){return e("")})},viewComponent:null},rowHeight:35,topPanelHeight:35},Ot=function Ir(){this.options=bt},_t=function(){function e(e,t,i){this.config=e,this.translate=t,this.collectionService=i,this._options=this.config.options}return e.prototype.createFilter=function(e){var t;return e&&e.model&&(t="function"==typeof e.model?new e.model(this.translate,this.collectionService):e.model),!t&&this._options.defaultFilter&&(t=new this._options.defaultFilter(this.translate,this.collectionService)),t},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ot},{type:y.TranslateService},{type:Te}]},e}(),Et=o,Ct=function(){function e(e){this.filterFactory=e,this._eventHandler=new Slick.EventHandler,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filters=[],this._columnFilters={},this.onFilterChanged=new m.Subject,this.onFilterCleared=new m.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this._grid=e},e.prototype.attachBackendOnFilter=function(e,t){var i=this;this._dataView=t,this._filters=[],this._slickSubscriber=new Slick.Event,this._slickSubscriber.subscribe(this.onBackendFilterChange.bind(this)),this._eventHandler.subscribe(e.onHeaderRowCellRendered,function(e,t){t.column.id===i._firstColumnIdRendered&&(i._isFilterFirstRender=!1),i.addFilterTemplateToHeaderRow(t,i._isFilterFirstRender),""===i._firstColumnIdRendered&&(i._firstColumnIdRendered=t.column.id)})},e.prototype.onBackendFilterChange=function(e,t){var i=this;if(!t||!t.grid)throw new Error('Something went wrong when trying to attach the "attachBackendOnFilterSubscribe(event, args)" function, it seems that "args" is not populated correctly');var r=this._gridOptions.backendServiceApi;if(!r||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');try{var n=new Date;r.preProcess&&r.preProcess();var o=0;t&&t.clearFilterTriggered||!e||e.keyCode===w.ENTER||"input"!==e.type&&"keyup"!==e.type&&"keydown"!==e.type||(o=r.filterTypingDebounce||500),t&&t.shouldTriggerQuery&&(0<o?(clearTimeout(rt),rt=setTimeout(function(){return i.executeBackendCallback(e,t,n,r)},o)):this.executeBackendCallback(e,t,n,r))}catch(s){F(s,r)}},e.prototype.executeBackendCallback=function(n,o,s,a){return N(this,void 0,void 0,function(){var t,i,r=this;return L(this,function(e){switch(e.label){case 0:return[4,a.service.processOnFilterChanged(n,o)];case 1:return t=e.sent(),o&&!o.clearFilterTriggered&&this.emitFilterChanged(b.remote),(i=a.process(t))instanceof Promise&&i.then?i.then(function(e){return k(s,e,a,r._gridOptions)}):m.isObservable(i)&&i.subscribe(function(e){return k(s,e,a,r._gridOptions)},function(e){return F(e,a)}),[2]}})})},e.prototype.attachLocalOnFilter=function(e,i){var r=this;this._filters=[],this._dataView=i,this._slickSubscriber=new Slick.Event,i.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),i.setFilter(this.customLocalFilter.bind(this,i)),this._slickSubscriber.subscribe(function(e,t){null!=t.columnId&&i.refresh(),t&&!t.clearFilterTriggered&&r.emitFilterChanged(b.local)}),this._eventHandler.subscribe(e.onHeaderRowCellRendered,function(e,t){r.addFilterTemplateToHeaderRow(t)})},e.prototype.clearFilterByColumnId=function(e,t){var i=this._filters.find(function(e){return e.columnDef.id===t});for(var r in i&&i.clear&&i.clear(!0),this._columnFilters)r===t&&this._columnFilters[r]&&delete this._columnFilters[r];var n=b.local;(this._gridOptions&&this._gridOptions.backendServiceApi||!1)&&(n=b.remote,this.onBackendFilterChange(e,{grid:this._grid,columnFilters:this._columnFilters})),this.emitFilterChanged(n)},e.prototype.clearFilters=function(){for(var e in this._filters.forEach(function(e){e&&e.clear&&e.clear(!1)}),this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];if(this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate()),this._gridOptions&&this._gridOptions.backendServiceApi){var t={clearFilterTriggered:!0,shouldTriggerQuery:!0,grid:this._grid,columnFilters:this._columnFilters};this.executeBackendCallback(undefined,t,new Date,this._gridOptions.backendServiceApi)}this.onFilterCleared.next(!0)},e.prototype.customLocalFilter=function(e,t,i){var r,n;try{for(var o=G(Object.keys(i.columnFilters)),s=o.next();!s.done;s=o.next()){var a=s.value,l=i.columnFilters[a],u=i.grid.getColumnIndex(a),c=i.grid.getColumns()[u];if(!c)return!1;if(this._gridOptions.enableRowDetailView){var d=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";t[d+"isPadding"]&&t[d+"parent"]&&(t=t[d+"parent"])}var h=c.dataKey,p=c.queryField||c.queryFieldFilter||c.field,f=c.type||x.string,m=c.filterSearchType?c.filterSearchType:null,g=t[p];0<=p.indexOf(".")&&(g=K(t,p));var v=l&&l.searchTerms?$.extend(!0,[],l.searchTerms):null,y=Array.isArray(v)&&1===v.length?v[0]:"",S=null;f!==x.object&&(S=(y=""+y).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/));var b=l.operator||(S?S[1]:""),O=S?S[2]:"",_=S?S[3]:"*z"===b?"*":"";if(v&&1<v.length?y=v.join(","):"string"==typeof y&&(y=y.replace("'","''"),"*"!==b&&"a*"!==b&&"*z"!==b&&"*"!==_||(b="*"===b||"*z"===b?D.endsWith:D.startsWith)),""===O&&(!v||Array.isArray(v)&&0===v.length))return!0;if(Array.isArray(S)&&1<=S.length&&Array.isArray(v)&&1===v.length&&(v[0]=O),v&&Array.isArray(v)&&f!==x.object)for(var E=0,C=v.length;E<C;E++)v[E]=(v[E]===undefined||null===v[E]?"":v[E])+"";if(c&&c.params&&c.params.useFormatterOuputToFilter){var T=e&&"function"==typeof e.getIdxById?e.getIdxById(t.id):0;g=c.formatter(T,u,g,c,t,this._grid)}if("number"==typeof g&&(g=g.toString()),!tt.executeMappedCondition({dataKey:h,fieldType:f,searchTerms:v,cellValue:g,operator:b,cellValueLastChar:_,filterSearchType:m}))return!1}}catch(w){r={error:w}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return!0},e.prototype.dispose=function(){this.disposeColumnFilters(),this._eventHandler.unsubscribeAll(),this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe()},e.prototype.disposeColumnFilters=function(){for(var e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];this._filters.forEach(function(e,t){e&&e.destroy&&e.destroy(!0)})},e.prototype.getColumnFilters=function(){return this._columnFilters},e.prototype.getCurrentLocalFilters=function(){var e,t,i=[];if(this._columnFilters)try{for(var r=G(Object.keys(this._columnFilters)),n=r.next();!n.done;n=r.next()){var o=n.value,s=this._columnFilters[o],a={columnId:o||""};s&&s.searchTerms&&(a.searchTerms=s.searchTerms),s.operator&&(a.operator=s.operator),Array.isArray(a.searchTerms)&&0<a.searchTerms.length&&""!==a.searchTerms[0]&&i.push(a)}}catch(l){e={error:l}}finally{try{n&&!n.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}return i},e.prototype.callbackSearchEvent=function(e,t){if(t){var i=e&&e.target?e.target.value:undefined,r=t.searchTerms&&Array.isArray(t.searchTerms)?t.searchTerms:i?[i]:undefined,n=t.columnDef||null,o=n&&n.id||"",s=t.operator||undefined,a=r&&Array.isArray(r),l=a&&r.length,u=M({},this._columnFilters);if(!a||0===l||1===l&&""===r[0])delete this._columnFilters[o];else{var c=""+o,d={columnId:c,columnDef:n,searchTerms:r};s&&(d.operator=s),this._columnFilters[c]=d}(e&&e.keyCode)!==w.ENTER&&Et(u,this._columnFilters)||this.triggerEvent(this._slickSubscriber,{clearFilterTriggered:t.clearFilterTriggered,shouldTriggerQuery:t.shouldTriggerQuery,columnId:o,columnDef:t.columnDef||null,columnFilters:this._columnFilters,operator:s,searchTerms:r,serviceOptions:this._onFilterChangedOptions,grid:this._grid},e)}},e.prototype.addFilterTemplateToHeaderRow=function(e,t){void 0===t&&(t=!0);var i=e.column,r=i.id||"";if(i&&"selector"!==r&&i.filterable){var n=void 0,o=void 0,s=this.filterFactory.createFilter(e.column.filter);o=i&&i.filter&&i.filter.operator||s&&s.operator||undefined,this._columnFilters[i.id]?(n=this._columnFilters[i.id].searchTerms||undefined,o=this._columnFilters[i.id].operator||undefined):i.filter&&(n=i.filter.searchTerms||undefined,this.updateColumnFilters(n,i,o));var a={grid:this._grid,operator:o,searchTerms:n,columnDef:i,callback:this.callbackSearchEvent.bind(this)};if(s){s.init(a,t);var l=this._filters.findIndex(function(e){return s.columnDef.name===e.columnDef.name});-1===l?this._filters.push(s):this._filters[l]=s,n&&s.setValues&&s.setValues(n)}}},e.prototype.emitFilterChanged=function(e){if(e===b.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var t=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentFilters&&(t=i.getCurrentFilters()),this.onFilterChanged.next(t)}else e===b.local&&this.onFilterChanged.next(this.getCurrentLocalFilters())},e.prototype.populateColumnFilterSearchTerms=function(){if(this._gridOptions.presets&&Array.isArray(this._gridOptions.presets.filters)&&0<this._gridOptions.presets.filters.length){var i=this._gridOptions.presets.filters;this._columnDefinitions.forEach(function(t){t.filter&&t.filter.searchTerms&&delete t.filter.searchTerms;var e=i.find(function(e){return e.columnId===t.id});e&&e.searchTerms&&Array.isArray(e.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=e.operator||t.filter.operator||"",t.filter.searchTerms=e.searchTerms)})}},e.prototype.updateColumnFilters=function(e,t,i){e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i})},e.prototype.triggerEvent=function(e,t,i){e=e||new Slick.Event;var r=i;i&&"function"!=typeof i.isPropagationStopped&&(r=$.extend({},new Slick.EventData,i)),e.notify(t,r,t.grid)},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:_t}]},e}(),Tt=function(){function e(){this._currentLocalSorters=[],this._eventHandler=new Slick.EventHandler,this._isBackendGrid=!1,this.onSortChanged=new m.Subject,this.onSortCleared=new m.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.attachBackendOnSort=function(e,t){this._isBackendGrid=!0,this._grid=e,this._dataView=t,this._slickSubscriber=e.onSort,this._slickSubscriber.subscribe(this.onBackendSortChanged.bind(this))},e.prototype.onBackendSortChanged=function(e,t){var i=this;if(!t||!t.grid)throw new Error('Something went wrong when trying to attach the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');var r=(t.grid.getOptions()||{}).backendServiceApi;if(!r||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');try{var n=new Date;r.preProcess&&r.preProcess();var o=r.service.processOnSortChanged(e,t);this.emitSortChanged(b.remote);var s=r.process(o);s instanceof Promise&&s.then?s.then(function(e){return k(n,e,r,i._gridOptions)}):m.isObservable(s)&&s.subscribe(function(e){return k(n,e,r,i._gridOptions)},function(e){return F(e,r)})}catch(a){F(a,r)}},e.prototype.attachLocalOnSort=function(r,n){var o=this;this._isBackendGrid=!1,this._grid=r,this._dataView=n,this._slickSubscriber=r.onSort,this._slickSubscriber.subscribe(function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortAsc:t.sortAsc,sortCol:t.sortCol});o._currentLocalSorters=[],Array.isArray(i)&&i.forEach(function(e){e.sortCol&&o._currentLocalSorters.push({columnId:e.sortCol.id,direction:e.sortAsc?I.ASC:I.DESC})}),o.onLocalSortChanged(r,n,i),o.emitSortChanged(b.local)})},e.prototype.clearSorting=function(e){if(void 0===e&&(e=!0),this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),e)this._isBackendGrid?this.onBackendSortChanged(undefined,{grid:this._grid,sortCols:[]}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this.onLocalSortChanged(this._grid,this._dataView,new Array({sortAsc:!0,sortCol:this._columnDefinitions[0]}));else if(this._isBackendGrid){var t=this._gridOptions&&this._gridOptions.backendServiceApi&&this._gridOptions.backendServiceApi.service;t&&t.clearSorters&&t.clearSorters()}this._currentLocalSorters=[],this.onSortCleared.next(!0)},e.prototype.getCurrentLocalSorters=function(){return this._currentLocalSorters},e.prototype.getPreviousColumnSorts=function(i){var r=this,e=this._grid&&this._grid.getSortColumns();return Array.isArray(e)?e.reduce(function(e,t){return i&&t.columnId===i||e.push({sortCol:r._columnDefinitions[r._grid.getColumnIndex(t.columnId)],sortAsc:t.sortAsc}),e},[]):[]},e.prototype.loadLocalPresets=function(e,t){var i=this,r=[];(this._currentLocalSorters=[],this._gridOptions&&this._gridOptions.presets&&this._gridOptions.presets.sorters)&&(this._gridOptions.presets.sorters.forEach(function(t){var e=i._columnDefinitions.find(function(e){return e.id===t.columnId});e&&(r.push({columnId:e.id,sortAsc:t.direction.toUpperCase()===I.ASC,sortCol:e}),i._currentLocalSorters.push({columnId:e.id+"",direction:t.direction.toUpperCase()}))}),0<r.length&&(this.onLocalSortChanged(e,t,r),e.setSortColumns(r)))},e.prototype.onLocalSortChanged=function(e,t,h,i){void 0===i&&(i=!1),e&&t&&(i&&t.reSort(),t.sort(function(e,t){for(var i=0,r=h.length;i<r;i++){var n=h[i];if(n&&n.sortCol){var o=n.sortAsc?A.asc:A.desc,s=n.sortCol.queryField||n.sortCol.queryFieldSorter||n.sortCol.field,a=n.sortCol.type||x.string,l=e[s],u=t[s];if(s&&0<=s.indexOf(".")&&(l=K(e,s),u=K(t,s)),n.sortCol&&n.sortCol.sorter){var c=n.sortCol.sorter(l,u,o,n.sortCol);if(c!==A.neutral)return c}var d=Ce(l,u,a,o,n.sortCol);if(d!==A.neutral)return d}}return A.neutral}),e.invalidate(),e.render())},e.prototype.dispose=function(){this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe(),this._eventHandler.unsubscribeAll()},e.prototype.emitSortChanged=function(e){if(e===b.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var t=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentSorters&&(t=i.getCurrentSorters()),this.onSortChanged.next(t)}else e===b.local&&this.onSortChanged.next(this.getCurrentLocalSorters())},e}(),wt=function(){function e(e,t,i,r,n,o){this.exportService=e,this.extensionUtility=t,this.filterService=i,this.sharedService=r,this.sortService=n,this.translate=o,this._areVisibleColumnDifferent=!1,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.showGridMenu=function(e){this._extension.showGridMenu(e)},e.prototype.register=function(){var r=this;return this._userOriginalGridMenu=M({},this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu?(this.extensionUtility.loadExtensionDynamically(O.gridMenu),this.sharedService.gridOptions.gridMenu=M({},this.getDefaultGridMenuOptions(),this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions.gridMenu.customItems=j(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this._extension=new Slick.Controls.GridMenu(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.onExtensionRegistered&&this.sharedService.gridOptions.gridMenu.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onBeforeMenuShow,function(e,t){r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&r.sharedService.gridOptions.gridMenu.onBeforeMenuShow(e,t)}),this._eventHandler.subscribe(this._extension.onColumnsChanged,function(e,t){r._areVisibleColumnDifferent=!0,r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onColumnsChanged&&r.sharedService.gridOptions.gridMenu.onColumnsChanged(e,t)}),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){r.executeGridMenuInternalCustomCommands(e,t),r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onCommand&&r.sharedService.gridOptions.gridMenu.onCommand(e,t)}),this._eventHandler.subscribe(this._extension.onMenuClose,function(e,t){if(r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onMenuClose&&r.sharedService.gridOptions.gridMenu.onMenuClose(e,t),r.sharedService.grid&&"function"==typeof r.sharedService.grid.autosizeColumns){var i=r.sharedService.grid.getUID();r._areVisibleColumnDifferent&&i&&0<$("."+i).length&&(r.sharedService.gridOptions&&r.sharedService.gridOptions.enableAutoSizeColumns&&r.sharedService.grid.autosizeColumns(),r._areVisibleColumnDifferent=!1)}})),this._extension):null},e.prototype.executeGridMenuInternalCustomCommands=function(e,t){if(t&&t.command)switch(t.command){case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh();break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh();break;case"export-csv":this.exportService.exportToFile({delimiter:S.comma,filename:"export",format:_.csv,useUtf8WithBom:!0});break;case"export-text-delimited":this.exportService.exportToFile({delimiter:S.tab,filename:"export",format:_.txt,useUtf8WithBom:!0});break;case"toggle-filter":this.sharedService.grid.setHeaderRowVisibility(!this.sharedService.grid.getOptions().showHeaderRow);break;case"toggle-toppanel":this.sharedService.grid.setTopPanelVisibility(!this.sharedService.grid.getOptions().showTopPanel);break;case"toggle-preheader":this.sharedService.grid.setPreHeaderPanelVisibility(!this.sharedService.grid.getOptions().showPreHeaderPanel);break;case"refresh-dataset":this.refreshBackendDataset()}},e.prototype.refreshBackendDataset=function(e){var i=this,t="";e&&(this.sharedService.gridOptions=M({},this.sharedService.gridOptions,e));var r=this.sharedService.gridOptions.backendServiceApi;if(!r||!r.service||!r.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(r.service&&(t=r.service.buildQuery()),t&&""!==t){var n=new Date;r.preProcess&&r.preProcess(),W(r.process(t)).then(function(e){var t=new Date;e&&r&&r.internalPostProcess&&r.internalPostProcess(e),r&&r.postProcess&&(e instanceof Object&&(e.statistics={startTime:n,endTime:t,executionTime:t.valueOf()-n.valueOf(),totalItemCount:i.sharedService.gridOptions&&i.sharedService.gridOptions.pagination&&i.sharedService.gridOptions.pagination.totalItems}),r.postProcess(e))})}},e.prototype.addGridMenuCustomCommands=function(){var e=this.sharedService.gridOptions.backendServiceApi||null,t=[];return this.sharedService.gridOptions&&this.sharedService.gridOptions.enableFiltering&&(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllFiltersCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_FILTERS"):xe.TEXT_CLEAR_ALL_FILTERS,disabled:!1,command:"clear-filter",positionOrder:50}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideToggleFilterCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconToggleFilterCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_FILTER_ROW"):xe.TEXT_TOGGLE_FILTER_ROW,disabled:!1,command:"toggle-filter",positionOrder:52}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideRefreshDatasetCommand&&e&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("REFRESH_DATASET"):xe.TEXT_REFRESH_DATASET,disabled:!1,command:"refresh-dataset",positionOrder:54})),this.sharedService.gridOptions.showPreHeaderPanel&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideTogglePreHeaderCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconTogglePreHeaderCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_PRE_HEADER_ROW"):xe.TEXT_TOGGLE_PRE_HEADER_ROW,disabled:!1,command:"toggle-preheader",positionOrder:52}),this.sharedService.gridOptions.enableSorting&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllSortingCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_SORTING"):xe.TEXT_CLEAR_ALL_SORTING,disabled:!1,command:"clear-sorting",positionOrder:51}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportCsvCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportCsvCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_CSV"):xe.TEXT_EXPORT_IN_CSV_FORMAT,disabled:!1,command:"export-csv",positionOrder:53}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportTextDelimitedCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_TAB_DELIMITED"):xe.TEXT_EXPORT_IN_TEXT_FORMAT,disabled:!1,command:"export-text-delimited",positionOrder:54}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(0<t.length||this.sharedService.gridOptions.gridMenu.customItems&&0<this.sharedService.gridOptions.gridMenu.customItems.length)&&(this.sharedService.gridOptions.gridMenu.customTitle=this.sharedService.gridOptions.gridMenu.customTitle||this.extensionUtility.getPickerTitleOutputString("customTitle","gridMenu")),t},e.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"sort-asc":case"sort-desc":var i=this.sortService.getPreviousColumnSorts(t.column.id+"");i.push({sortCol:t.column,sortAsc:"sort-asc"===t.command}),this.sharedService.gridOptions.backendServiceApi?this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:i,grid:this.sharedService.grid}):this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,i);var r=i.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(r)}},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.extensionUtility.arrayRemoveItemByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.translateGridMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customItems=[],this.emptyGridMenuTitles(),this.sharedService.gridOptions.gridMenu.customItems=j(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this.sharedService.gridOptions.gridMenu.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._extension.init&&this._extension.init(this.sharedService.grid))},e.prototype.emptyGridMenuTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="")},e.prototype.getDefaultGridMenuOptions=function(){return{customTitle:undefined,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,customItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:we},{type:Ie},{type:Ct},{type:De},{type:Tt},{type:y.TranslateService}]},e}(),xt=function(){function e(e){this.sharedService=e}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid?(this._extension=this.sharedService.groupItemMetadataProvider||{},this.sharedService.grid.registerPlugin(this._extension),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:De}]},e}(),Dt=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(O.headerButton),this._extension=new Slick.Plugins.HeaderButtons(this.sharedService.gridOptions.headerButton||{}),this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.headerButton&&(this.sharedService.gridOptions.headerButton.onExtensionRegistered&&this.sharedService.gridOptions.headerButton.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){i.sharedService.gridOptions.headerButton&&"function"==typeof i.sharedService.gridOptions.headerButton.onCommand&&i.sharedService.gridOptions.headerButton.onCommand(e,t)})),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),It=function(){function e(e,t,i,r,n){this.extensionUtility=e,this.filterService=t,this.sharedService=i,this.sortService=r,this.translate=n,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(O.headerMenu),this.sharedService.gridOptions.headerMenu=M({},this.getDefaultHeaderMenuOptions(),this.sharedService.gridOptions.headerMenu),this.sharedService.gridOptions.enableHeaderMenu&&(this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.gridOptions,this.sharedService.columnDefinitions)),this._extension=new Slick.Plugins.HeaderMenu(this.sharedService.gridOptions.headerMenu),this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.headerMenu&&(this.sharedService.gridOptions.headerMenu.onExtensionRegistered&&this.sharedService.gridOptions.headerMenu.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){i.executeHeaderMenuInternalCommands(e,t),i.sharedService.gridOptions.headerMenu&&"function"==typeof i.sharedService.gridOptions.headerMenu.onCommand&&i.sharedService.gridOptions.headerMenu.onCommand(e,t)}),this._eventHandler.subscribe(this._extension.onBeforeMenuShow,function(e,t){i.sharedService.gridOptions.headerMenu&&"function"==typeof i.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&i.sharedService.gridOptions.headerMenu.onBeforeMenuShow(e,t)})),this._extension):null},e.prototype.addHeaderMenuCustomCommands=function(i,e){var r=this,n=i.headerMenu||{};return e&&Array.isArray(e)&&i.enableHeaderMenu&&e.forEach(function(e){if(e&&!e.excludeFromHeaderMenu){e.header&&e.header.menu||(e.header={menu:{items:[]}});var t=e&&e.header&&e.header.menu&&e.header.menu.items||[];i.enableSorting&&e.sortable&&n&&!n.hideSortCommands&&(0===t.filter(function(e){return"sort-asc"===e.command}).length&&t.push({iconCssClass:n.iconSortAscCommand||"fa fa-sort-asc",title:i.enableTranslate?r.translate.instant("SORT_ASCENDING"):xe.TEXT_SORT_ASCENDING,command:"sort-asc",positionOrder:50}),0===t.filter(function(e){return"sort-desc"===e.command}).length&&t.push({iconCssClass:n.iconSortDescCommand||"fa fa-sort-desc",title:i.enableTranslate?r.translate.instant("SORT_DESCENDING"):xe.TEXT_SORT_DESCENDING,command:"sort-desc",positionOrder:51}),t.push({divider:!0,command:"",positionOrder:52}),n.hideClearSortCommand||0!==t.filter(function(e){return"clear-sort"===e.command}).length||t.push({iconCssClass:n.iconClearSortCommand||"fa fa-unsorted",title:i.enableTranslate?r.translate.instant("REMOVE_SORT"):xe.TEXT_REMOVE_SORT,command:"clear-sort",positionOrder:53})),i.enableFiltering&&e.filterable&&n&&!n.hideFilterCommands&&(n.hideClearFilterCommand||0!==t.filter(function(e){return"clear-filter"===e.command}).length||t.push({iconCssClass:n.iconClearFilterCommand||"fa fa-filter",title:i.enableTranslate?r.translate.instant("REMOVE_FILTER"):xe.TEXT_REMOVE_FILTER,command:"clear-filter",positionOrder:52})),n&&!n.hideColumnHideCommand&&0===t.filter(function(e){return"hide"===e.command}).length&&t.push({iconCssClass:n.iconColumnHideCommand||"fa fa-times",title:i.enableTranslate?r.translate.instant("HIDE_COLUMN"):xe.TEXT_HIDE_COLUMN,command:"hide",positionOrder:55}),r.extensionUtility.translateItems(t,"titleKey","title"),t.sort(function(e,t){return e&&t&&e.hasOwnProperty("positionOrder")&&t.hasOwnProperty("positionOrder")?e.positionOrder-t.positionOrder:0})}}),n},e.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(e,t);break;case"clear-sort":this.clearColumnSort(e,t);break;case"sort-asc":case"sort-desc":var i="sort-asc"===t.command;this.sortColumn(e,t,i)}},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.extensionUtility.arrayRemoveItemByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.resetHeaderMenuTranslations=function(e){var i=this;e.forEach(function(e){if(e&&e.header&&e.header&&e.header.menu&&e.header.menu.items&&!e.excludeFromHeaderMenu){var t=e.header.menu.items||[];t.forEach(function(e){switch(e.command){case"clear-filter":e.title=i.translate.instant("REMOVE_FILTER")||xe.TEXT_REMOVE_FILTER;break;case"clear-sort":e.title=i.translate.instant("REMOVE_SORT")||xe.TEXT_REMOVE_SORT;break;case"sort-asc":e.title=i.translate.instant("SORT_ASCENDING")||xe.TEXT_SORT_ASCENDING;break;case"sort-desc":e.title=i.translate.instant("SORT_DESCENDING")||xe.TEXT_SORT_DESCENDING;break;case"hide":e.title=i.translate.instant("HIDE_COLUMN")||xe.TEXT_HIDE_COLUMN}i.sharedService.gridOptions&&i.sharedService.gridOptions.enableTranslate&&i.extensionUtility.translateItems(t,"titleKey","title")})}})},e.prototype.translateHeaderMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)},e.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,hideColumnHideCommand:!1,hideSortCommands:!1,title:""}},e.prototype.sortColumn=function(e,t,i){if(void 0===i&&(i=!0),t&&t.column){var r=this.sortService.getPreviousColumnSorts(t.column.id+"");if(r.push({sortCol:t.column,sortAsc:i}),this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r);else{var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(n)}var o=r.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(o)}},e.prototype.clearColumnFilter=function(e,t){t&&t.column&&this.filterService.clearFilterByColumnId(e,t.column.id)},e.prototype.clearColumnSort=function(e,t){if(t&&t.column&&this.sharedService){var i=this.sortService.getPreviousColumnSorts(),r=this.sortService.getPreviousColumnSorts(t.column.id+"");if(i.length!==r.length){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r,!0);else{var n=this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(n)}var o=r.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(o)}}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:Ct},{type:De},{type:Tt},{type:y.TranslateService}]},e}(),At=l,Pt="container_",kt="container_loading",Ft=function(){function e(e,t,i,r,n){this.angularUtilService=e,this.appRef=t,this.extensionUtility=i,this.filterService=r,this.sharedService=n,this._eventHandler=new Slick.EventHandler,this._views=[],this._subscriptions=[]}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy(),this._subscriptions=ue(this._subscriptions),this.disposeAllViewComponents()},e.prototype.create=function(e,t){var i=this;if(e&&t){if(this.extensionUtility.loadExtensionDynamically(O.rowDetailView),!t.rowDetailView)throw new Error('The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(t&&t.rowDetailView){if(!this._extension){if("function"!=typeof t.rowDetailView.process)throw new Error('You need to provide a "process" function for the Row Detail Extension to work properly');this._userProcessFn=t.rowDetailView.process,t.rowDetailView.process=function(e){return i.onProcessing(e)},t.rowDetailView.preTemplate||(this._preloadComponent=t&&t.rowDetailView&&t.rowDetailView.preloadComponent,t.rowDetailView.preTemplate=function(){return At.sanitize('<div class="'+kt+'"></div>')}),t.rowDetailView.postTemplate||(this._viewComponent=t&&t.rowDetailView&&t.rowDetailView.viewComponent,t.rowDetailView.postTemplate=function(e){return At.sanitize('<div class="'+Pt+e.id+'"></div>')}),this._extension=new Slick.Plugins.RowDetailView(t.rowDetailView)}var r=this._extension.getColumnDefinition();r.excludeFromExport=!0,r.excludeFromQuery=!0,r.excludeFromHeaderMenu=!0,e.unshift(r)}return this._extension}return null},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._extension),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(O.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.rowDetailView&&(this.sharedService.gridOptions.rowDetailView.onExtensionRegistered&&this.sharedService.gridOptions.rowDetailView.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onAsyncResponse,function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncResponse&&i.sharedService.gridOptions.rowDetailView.onAsyncResponse(e,t)}),this._eventHandler.subscribe(this._extension.onAsyncEndUpdate,function(e,t){i.renderViewModel(t&&t.item),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate&&i.sharedService.gridOptions.rowDetailView.onAsyncEndUpdate(e,t)}),this._eventHandler.subscribe(this._extension.onAfterRowDetailToggle,function(e,t){i.renderPreloadView(),i.renderAllViewComponents(),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onAfterRowDetailToggle(e,t)}),this._eventHandler.subscribe(this._extension.onBeforeRowDetailToggle,function(e,t){i.onBeforeRowDetailToggle(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle&&i.sharedService.gridOptions.rowDetailView.onBeforeRowDetailToggle(e,t)}),this._eventHandler.subscribe(this._extension.onRowBackToViewportRange,function(e,t){i.onRowBackToViewportRange(e,t),i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowBackToViewportRange(e,t)}),this._eventHandler.subscribe(this._extension.onRowOutOfViewportRange,function(e,t){i.sharedService.gridOptions.rowDetailView&&"function"==typeof i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange&&i.sharedService.gridOptions.rowDetailView.onRowOutOfViewportRange(e,t)}),this._eventHandler.subscribe(this.sharedService.grid.onColumnsReordered,function(){return i.redrawAllViewComponents()}),this._eventHandler.subscribe(this.sharedService.grid.onSort,function(){return i.disposeAllViewComponents()}),this._subscriptions.push(this.filterService.onFilterChanged.subscribe(function(e){return i.redrawAllViewComponents()}))),this._extension):null},e.prototype.addToArrayWhenNotFound=function(e,t){e.findIndex(function(e){return e.id===t.id})<0&&e.push(t)},e.prototype.disposeAllViewComponents=function(){var t=this;this._views.forEach(function(e){return t.disposeViewComponent(e)}),this._views=[]},e.prototype.disposeViewComponent=function(e){var t=e&&e.componentRef;return t?(this.appRef.detachView(t.hostView),t.destroy(),e):null},e.prototype.notifyTemplate=function(e){this._extension&&this._extension.onAsyncResponse.notify({item:e},undefined,this)},e.prototype.onProcessing=function(r){return N(this,void 0,void 0,function(){var t,i;return L(this,function(e){switch(e.label){case 0:return r&&"function"==typeof this._userProcessFn?[4,this._userProcessFn(r)]:[3,6];case 1:return t=e.sent(),i=void 0,t.hasOwnProperty("id")?(i=t,[3,5]):[3,2];case 2:return t instanceof Response&&"function"==typeof t.json?[4,t.json()]:[3,4];case 3:return i=e.sent(),[3,5];case 4:t&&t.content&&(i=t.content),e.label=5;case 5:this.notifyTemplate(i||{}),e.label=6;case 6:return[2]}})})},e.prototype.redrawAllViewComponents=function(){var t=this;this._views.forEach(function(e){t.redrawViewComponent(e)})},e.prototype.renderAllViewComponents=function(){var t=this;this._views.forEach(function(e){e&&e.dataContext&&t.renderViewModel(e.dataContext)})},e.prototype.onBeforeRowDetailToggle=function(e,t){if(t&&t.item&&t.item.__collapsed){if(t&&t.item){var i={id:t.item.id,dataContext:t.item};this.addToArrayWhenNotFound(this._views,i)}}else{var r=this._views.findIndex(function(e){return e.id===t.item.id});if(0<=r&&this._views.hasOwnProperty(r)){var n=this._views[r].componentRef;this.appRef.detachView(n.hostView),n.destroy(),this._views.splice(r,1)}}},e.prototype.onRowBackToViewportRange=function(e,t){var i=this;t&&t.item&&this._views.forEach(function(e){e.id===t.item.id&&i.redrawViewComponent(e)})},e.prototype.redrawViewComponent=function(e){var t=document.getElementsByClassName(Pt+e.id);t&&t.length&&this.renderViewModel(e.dataContext)},e.prototype.renderPreloadView=function(){var e=document.getElementsByClassName(kt);e&&e.length&&this.angularUtilService.createAngularComponentAppendToDom(this._preloadComponent,e[0],!0)},e.prototype.renderViewModel=function(t){var e=document.getElementsByClassName(Pt+t.id);if(e&&e.length){var i=this.angularUtilService.createAngularComponentAppendToDom(this._viewComponent,e[0],!0);if(i&&i.componentRef&&i.componentRef.instance){Object.assign(i.componentRef.instance,{model:t});var r=this._views.find(function(e){return e.id===t.id});r&&(r.componentRef=i.componentRef)}}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:P},{type:v.ApplicationRef},{type:Ie},{type:Ct},{type:De}]},e}(),Vt=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(O.rowMoveManager),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(O.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this._extension=new Slick.RowMoveManager(this.sharedService.gridOptions.rowMoveManager||{cancelEditOnDrag:!0}),this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.rowMoveManager&&(this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered&&this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onBeforeMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows&&i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows(e,t)}),this._eventHandler.subscribe(this._extension.onMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onMoveRows&&i.sharedService.gridOptions.rowMoveManager.onMoveRows(e,t)})),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),Rt=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(O.rowSelection),this._extension=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(this._extension),this._extension):null},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ie},{type:De}]},e}(),Mt=function(){function e(e,t,i,r,n,o,s,a,l,u,c,d,h,p){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.checkboxSelectorExtension=i,this.columnPickerExtension=r,this.draggableGroupingExtension=n,this.gridMenuExtension=o,this.groupItemMetaExtension=s,this.headerButtonExtension=a,this.headerMenuExtension=l,this.rowDetailViewExtension=u,this.rowMoveManagerExtension=c,this.rowSelectionExtension=d,this.sharedService=h,this.translate=p,this.extensionList=[]}return e.prototype.dispose=function(){this.sharedService.grid=null,this.sharedService.visibleColumns=[],this.extensionList.forEach(function(e){e&&e["class"]&&e["class"].dispose&&e["class"].dispose()}),this.extensionList=[]},e.prototype.getAllColumns=function(){return this.sharedService.allColumns||[]},e.prototype.getVisibleColumns=function(){return this.sharedService.visibleColumns||[]},e.prototype.getAllExtensions=function(){return this.extensionList},e.prototype.getExtensionByName=function(t){return this.extensionList.find(function(e){return e.name===t})},e.prototype.getSlickgridAddonInstance=function(e){var t=this.getExtensionByName(e);return t&&t.addon?t.addon:null},e.prototype.autoResizeColumns=function(){this.sharedService.grid.autosizeColumns()},e.prototype.attachDifferentExtensions=function(){var t=this;if(this.sharedService.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register&&this.extensionList.push({name:O.autoTooltip,"class":this.autoTooltipExtension,addon:this.autoTooltipExtension.register()}),this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register&&this.extensionList.push({name:O.columnPicker,"class":this.columnPickerExtension,addon:this.columnPickerExtension.register()}),this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register&&this.extensionList.push({name:O.draggableGrouping,"class":this.draggableGroupingExtension,addon:this.draggableGroupingExtension.register()}),this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register&&this.extensionList.push({name:O.gridMenu,"class":this.gridMenuExtension,addon:this.gridMenuExtension.register()}),(this.sharedService.gridOptions.enableDraggableGrouping||this.sharedService.gridOptions.enableGrouping)&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register&&this.extensionList.push({name:O.groupItemMetaProvider,"class":this.groupItemMetaExtension,addon:this.groupItemMetaExtension.register()}),this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){var e=this.getExtensionByName(O.rowSelection);this.extensionList.push({name:O.checkboxSelector,"class":this.checkboxSelectorExtension,addon:this.checkboxSelectorExtension.register(e)})}if(this.sharedService.gridOptions.enableRowDetailView&&this.rowDetailViewExtension&&this.rowDetailViewExtension.register){e=this.getExtensionByName(O.rowSelection);this.extensionList.push({name:O.rowDetailView,"class":this.rowDetailViewExtension,addon:this.rowDetailViewExtension.register(e)})}this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register&&this.extensionList.push({name:O.rowMoveManager,"class":this.rowMoveManagerExtension,addon:this.rowMoveManagerExtension.register()}),!this.sharedService.gridOptions.enableCheckboxSelector&&this.sharedService.gridOptions.enableRowSelection&&this.rowSelectionExtension&&this.rowSelectionExtension.register&&this.extensionList.push({name:O.rowSelection,"class":this.rowSelectionExtension,addon:this.rowSelectionExtension.register()}),this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register&&this.extensionList.push({name:O.headerButton,"class":this.headerButtonExtension,addon:this.headerButtonExtension.register()}),this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register&&this.extensionList.push({name:O.headerMenu,"class":this.headerMenuExtension,addon:this.headerMenuExtension.register()}),this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register&&this.extensionList.push({name:O.cellExternalCopyManager,"class":this.cellExternalCopyExtension,addon:this.cellExternalCopyExtension.register()}),this.sharedService.gridOptions.registerPlugins!==undefined&&(Array.isArray(this.sharedService.gridOptions.registerPlugins)?this.sharedService.gridOptions.registerPlugins.forEach(function(e){t.sharedService.grid.registerPlugin(e),t.extensionList.push({name:O.noname,"class":null,addon:e})}):(this.sharedService.grid.registerPlugin(this.sharedService.gridOptions.registerPlugins),this.extensionList.push({name:O.noname,"class":null,addon:this.sharedService.gridOptions.registerPlugins})))},e.prototype.createExtensionsBeforeGridCreation=function(e,t){if(t.enableCheckboxSelector&&this.checkboxSelectorExtension.create(e,t),t.enableRowDetailView&&this.rowDetailViewExtension.create(e,t),t.enableDraggableGrouping){var i=this.draggableGroupingExtension.create(t);t.enableColumnReorder=i.getSetupColumnReorder}},e.prototype.hideColumn=function(e){if(this.sharedService&&this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.refreshBackendDataset=function(e){this.gridMenuExtension.refreshBackendDataset(e)},e.prototype.removeColumnByIndex=function(e,i){return e.filter(function(e,t){return i!==t})},e.prototype.translateColumnPicker=function(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()},e.prototype.translateGridMenu=function(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()},e.prototype.translateHeaderMenu=function(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()},e.prototype.translateColumnHeaders=function(e,t){e&&this.translate.use(e);var i=t||this.sharedService.columnDefinitions;this.translateItems(i,"headerKey","name"),this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.renderColumnHeaders(i)},e.prototype.renderColumnHeaders=function(e){var t=e||this.sharedService.columnDefinitions;Array.isArray(t)&&this.sharedService.grid&&this.sharedService.grid.setColumns&&this.sharedService.grid.setColumns(t)},e.prototype.translateItems=function(e,t,i){var r,n;try{for(var o=G(e),s=o.next();!s.done;s=o.next()){var a=s.value;a[t]&&(a[i]=this.translate.instant(a[t]))}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ae},{type:Pe},{type:ke},{type:Fe},{type:Ve},{type:wt},{type:xt},{type:Dt},{type:It},{type:Ft},{type:Vt},{type:Rt},{type:De},{type:y.TranslateService}]},e}(),Nt=function(){function a(e,t){if(this.queryFnName=e,this.head=[],"function"==typeof t)this.alias=t;else if("object"==typeof t)this.filter(t);else{if(undefined===t&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(undefined!==t)throw new TypeError('Second argument to "Query" should be an alias name(String) or filter arguments(Object). was passed '+t)}}return a.prototype.filter=function(e){var t,i;try{for(var r=G(Object.keys(e)),n=r.next();!n.done;n=r.next()){var o=n.value;if("function"!=typeof e[o]){var s=this.getGraphQLValue(e[o]);"{}"!==s&&this.head.push(o+":"+s)}}}catch(a){t={error:a}}finally{try{n&&!n.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return this},a.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!e)throw new TypeError("find value can not be >>falsy<<");var i=1===e.length&&Array.isArray(e[0])?e[0]:e;return this.body=this.parceFind(i),this},a.prototype.setAlias=function(e){this.alias=e},a.prototype.toString=function(){if(this.body===undefined)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return(this.alias?this.alias+":":"")+" "+this.queryFnName+" "+(0<this.head.length?"("+this.head.join(",")+")":"")+"  { "+this.body+" }"},a.prototype.parceFind=function(s){return s.map(function(e,t){var i=s[t];if(i instanceof a)return i.toString();if(Array.isArray(i)||"object"!=typeof i){if("string"==typeof i)return i;throw new RangeError("cannot handle Find value of "+i)}var r=Object.keys(i);if(1!==r.length)throw new RangeError("Alias objects should only have one value. was passed: "+JSON.stringify(i));var n=r[0],o=i[n];return Array.isArray(o)?new a(n).find(o):n+" : "+o+" "}).join(",")},a.prototype.getGraphQLValue=function(e){var t=this;return"string"==typeof e?e=JSON.stringify(e):Array.isArray(e)?e="["+(e=e.map(function(e){return t.getGraphQLValue(e)}).join())+"]":e instanceof Date?e=JSON.stringify(e):null!==e&&"object"==typeof e&&(e=this.objectToString(e)),e},a.prototype.objectToString=function(e){var t,i,r=[];try{for(var n=G(Object.keys(e)),o=n.next();!o.done;o=n.next()){var s=o.value;"function"!=typeof e[s]&&r.push(s+":"+this.getGraphQLValue(e[s]))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}return"{"+r.join()+"}"},a}(),$t=function(){function e(){this._currentFilters=[],this._currentSorters=[],this.defaultPaginationOptions={first:25,offset:0}}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.buildQuery=function(){var e,t,i,r;if(!this.options||!this.options.datasetName||!this._columnDefinitions&&!this.options.columnDefinitions)throw new Error('GraphQL Service requires "datasetName" & "columnDefinitions" properties for it to work');var n=this._columnDefinitions||this.options.columnDefinitions;n=n.filter(function(e){return!e.excludeFromQuery});var o=new Nt("query"),s=new Nt(this.options.datasetName),a=this.options.isWithCursor?new Nt("edges"):new Nt("nodes"),l=[];if(n&&Array.isArray(n))try{for(var u=G(n),c=u.next();!c.done;c=u.next()){var d=c.value;l.push(d.field),d.fields&&l.push.apply(l,j(d.fields))}}catch(y){e={error:y}}finally{try{c&&!c.done&&(t=u["return"])&&t.call(u)}finally{if(e)throw e.error}}else l=this.options.columnIds||[];-1===l.indexOf("id")&&l.unshift("id");var h=this.buildFilterQuery(l);if(this.options.isWithCursor){var p=new Nt("pageInfo");p.find("hasNextPage","endCursor"),a.find(["cursor",{node:h}]),s.find(["totalCount",p,a])}else a.find(h),s.find(["totalCount",a]);var f={};if(!1!==this._gridOptions.enablePagination&&(f=M({},this.options.paginationOptions,{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first}),this.options.isWithCursor||(f.offset=this.options.paginationOptions&&this.options.paginationOptions.hasOwnProperty("offset")?+this.options.paginationOptions.offset:0)),this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&0<this.options.sortingOptions.length&&(f.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&0<this.options.filteringOptions.length&&(f.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(f.locale=this._gridOptions&&this._gridOptions.i18n&&this._gridOptions.i18n.currentLang||"en"),this.options.extraQueryArguments)try{for(var m=G(this.options.extraQueryArguments),g=m.next();!g.done;g=m.next()){var v=g.value;f[v.field]=v.value}}catch(S){i={error:S}}finally{try{g&&!g.done&&(r=m["return"])&&r.call(m)}finally{if(i)throw i.error}}s.filter(f),o.find(s);return this.trimDoubleQuotesOnEnumField(o.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1)},e.prototype.buildFilterQuery=function(e){var r=function(e,t){void 0===e&&(e={});var i=t.shift();return e[i]=t.length?r(e[i],t):null,e},t=e.reduce(function(e,t){return r(e,t.split("."))},{});return JSON.stringify(t).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")},e.prototype.clearFilters=function(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})},e.prototype.clearSorters=function(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})},e.prototype.init=function(e,t,i){this._grid=i,this.options=e||{},this.pagination=t,i&&i.getColumns&&(this._columnDefinitions=e.columnDefinitions||i.getColumns())},e.prototype.getInitPaginationOptions=function(){return this.options.isWithCursor?{first:this.pagination?this.pagination.pageSize:25}:{first:this.pagination?this.pagination.pageSize:25,offset:0}},e.prototype.getDatasetName=function(){return this.options.datasetName||""},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.resetPaginationOptions=function(){var e;this.options.isWithCursor?e={after:"",before:undefined,last:undefined}:(e=this.options.paginationOptions||this.getInitPaginationOptions()).offset=0,this._currentPagination={pageNumber:1,pageSize:e.first},this.updateOptions({paginationOptions:e})},e.prototype.updateOptions=function(e){this.options=M({},this.options,e)},e.prototype.processOnFilterChanged=function(e,i){var r=this;if((this._gridOptions||i.grid.getOptions()).backendServiceApi===undefined)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');return this._currentFilters=this.castFilterToColumnFilter(i.columnFilters),new Promise(function(e,t){if(!i||!i.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');r.updateFilters(i.columnFilters,!1),r.resetPaginationOptions(),e(r.buildQuery())})},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(t.newPage,i),this.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.buildQuery()},e.prototype.updateFilters=function(u,c){var d,h=[];c&&(this._currentFilters=this.castFilterToColumnFilter(u));var e=function(e){if(u.hasOwnProperty(e)){var t=u[e],i=void 0;if(!(i=c&&Array.isArray(p._columnDefinitions)?p._columnDefinitions.find(function(e){return e.id===t.columnId}):t.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var r=i.queryField||i.queryFieldFilter||i.field||i.name||"",n=(t?t.searchTerms:null)||[],o=Array.isArray(n)&&1===n.length?n[0]:"";if(void 0===o&&(o=""),"string"!=typeof o&&!n)throw new Error('GraphQL filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var s=(o=""+o).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),a=t.operator||(s?s[1]:"");d=s?s[2]:"";var l=s?s[3]:"*z"===a?"*":"";if(r&&""===d&&0===n.length)return"continue";n&&1<n.length?d=n.join(","):"string"==typeof d&&(d=d.replace("'","''"),"*"!==a&&"a*"!==a&&"*z"!==a&&"*"!==l||(a="*"===a||"*z"===a?"endsWith":"startsWith")),!a&&i.filter&&(a=i.filter.operator),a||(a=ie(i.type||x.string)),h.push({field:r,operator:te(a),value:d})}},p=this;for(var t in u)e(t);this.updateOptions({filteringOptions:h})},e.prototype.updatePagination=function(e,t){var i;this._currentPagination={pageNumber:e,pageSize:t},i=this.options.isWithCursor?{first:t}:{first:t,offset:(e-1)*t},this.updateOptions({paginationOptions:i})},e.prototype.updateSorters=function(e,t){var i,r,n=this,o=[],s=[];if(!e&&t){(o=t).forEach(function(e){return e.direction=e.direction.toUpperCase()});var a=o.map(function(t){var e=n._columnDefinitions.find(function(e){return e.id===t.columnId});return s.push({field:e?(e.queryField||e.queryFieldSorter||e.field||e.id)+"":t.columnId+"",direction:t.direction}),e?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===I.ASC}:null});Array.isArray(a)&&this._grid.setSortColumns(a.filter(function(e){return e}))}else if(e&&!t&&Array.isArray(e)&&0<e.length)try{for(var l=G(e),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.sortCol&&(o.push({columnId:c.sortCol.id+"",direction:c.sortAsc?I.ASC:I.DESC}),s.push({field:(c.sortCol.queryField||c.sortCol.queryFieldSorter||c.sortCol.field||c.sortCol.id)+"",direction:c.sortAsc?I.ASC:I.DESC}))}}catch(d){i={error:d}}finally{try{u&&!u.done&&(r=l["return"])&&r.call(l)}finally{if(i)throw i.error}}this._currentSorters=o,this.updateOptions({sortingOptions:s})},e.prototype.trimDoubleQuotesOnEnumField=function(e,t,n){var i='s?((field:s*)?".*?")',r=t.join(i+"|"),o=new RegExp(r+=i,"g");return e.replace(o,function(e,t,i){var r=!0;return e.startsWith("field:")&&n&&(r=!1),r?e.replace(/"/g,""):e})},e.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(e){var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})},e}();String.format=function(e,i){return e.replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof i[t]?i[t]:e})},String.padZero=function(e){for(var t=this;t.length<e;)t="0"+t;return t},String.trim=function(e){return e?e.replace(/\s+/g," "):e},String.allTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.titleCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var Lt=function(){function e(){this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}return e.prototype.buildQuery=function(){this._odataOptions.filterQueue=[];var e=[];if(this._odataOptions.top&&e.push("$top="+this._odataOptions.top),this._odataOptions.skip&&e.push("$skip="+this._odataOptions.skip),this._odataOptions.orderBy){var t="";t=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,e.push("$orderby="+t)}if(this._odataOptions.filterBy||this._odataOptions.filter){if(this._odataOptions.filter){this._odataOptions.filterQueue=[];var i=this._odataOptions.filter;Array.isArray(this._odataOptions.filter)&&(i=this._odataOptions.filter.join(" "+(this._odataOptions.filterBySeparator||"and")+" ")),this._odataOptions.filterQueue.push("("+i+")")}this._odataOptions.filterBy&&this._odataOptions.filterBy.fieldName&&!this._columnFilters[this._odataOptions.filterBy.fieldName.toLowerCase()]&&""!==this._odataOptions.filterBy.searchTerm&&(this.saveColumnFilter(this._odataOptions.filterBy.fieldName.toLowerCase(),this._odataOptions.filterBy.searchTerm,this._odataOptions.filterBy.searchTerms),this.updateFilterFromListTerms(this._odataOptions.filterBy))}if(0<this._odataOptions.filterQueue.length){var r=this._odataOptions.filterQueue.join(" "+(this._odataOptions.filterBySeparator||"and")+" ");this._odataOptions.filter=r,e.push("$filter="+r)}return e.join("&")},e.prototype.getFilterByColumn=function(e){return this._columnFilters[e]?this._columnFilters[e]:null},e.prototype.getFilterCount=function(){return this._odataOptions.filterQueue?this._odataOptions.filterQueue.length:0},Object.defineProperty(e.prototype,"columnFilters",{get:function(){return this._columnFilters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._odataOptions},set:function(e){this._odataOptions=e},enumerable:!0,configurable:!0}),e.prototype.removeColumnFilter=function(e){delete this._columnFilters[e]},e.prototype.saveColumnFilter=function(e,t,i){this._columnFilters[e]={search:i,value:t}},e.prototype.updateFilterFromListTerms=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.updateFilterFromTerm(e)}):this.updateFilterFromTerm(e)},e.prototype.updateFilterFromTerm=function(e){var t="",i=[],r=e.fieldName,n=e.searchTerms,o=e.operator;if(n&&0<n.length){var s=[];if("IN"===o){for(var a=0,l=n.length;a<l;a++)s.push(r+" eq '"+n[a]+"'");t="$("+(t=s.join(" or "))+")"}else if("NIN"===o||"NOTIN"===o||"NOT IN"===o){for(var u=0,c=n.length;u<c;u++)s.push(r+" ne '"+n[u]+"'");t="$("+(t=s.join(" and "))+")"}}i.push(String.trim(t));var d=0<i.length?i.join(" and "):"";this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(d)&&this._odataOptions.filterQueue.push(d)},e.prototype.updateOptions=function(e){var t,i;try{for(var r=G(Object.keys(e)),n=r.next();!n.done;n=r.next()){var o=n.value;if(e.hasOwnProperty(o)&&(this._odataOptions[o]=e[o]),"orderBy"===o||"sortBy"===o){var s=e[o];this._odataOptions.caseType===E.pascalCase&&(Array.isArray(s)?s.forEach(function(e,t,i){i[t]=String.titleCase(e)}):s=String.titleCase(e[o])),this._odataOptions.orderBy=s,this._defaultSortBy=s}}}catch(a){t={error:a}}finally{try{n&&!n.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}},e}(),Gt=function(){function e(){this._currentFilters=[],this._currentSorters=[],this.defaultOptions={top:25,orderBy:"",caseType:E.pascalCase},this.odataService=new Lt}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.buildQuery=function(){return this.odataService.buildQuery()},e.prototype.clearFilters=function(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})},e.prototype.clearSorters=function(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})},e.prototype.init=function(e,t,i){this._grid=i;var r=M({},this.defaultOptions,e);t&&t.pageSize&&(r.top=t.pageSize),this.odataService.options=M({},r,{top:r.top||this.defaultOptions.top}),this.options=this.odataService.options,this.pagination=t,this._currentPagination={pageNumber:1,pageSize:this.odataService.options.top||this.defaultOptions.top},i&&i.getColumns&&(this._columnDefinitions=e&&e.columnDefinitions||i.getColumns(),this._columnDefinitions=this._columnDefinitions.filter(function(e){return!e.excludeFromQuery}))},e.prototype.updateOptions=function(e){this.options=M({},this.options,e)},e.prototype.removeColumnFilter=function(e){this.odataService.removeColumnFilter(e)},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.resetPaginationOptions=function(){this.odataService.updateOptions({skip:0})},e.prototype.saveColumnFilter=function(e,t,i){this.odataService.saveColumnFilter(e,t,i)},e.prototype.processOnFilterChanged=function(e,i){var r=this;if(i.grid.getOptions().backendServiceApi===undefined)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');return this._currentFilters=this.castFilterToColumnFilter(i.columnFilters),new Promise(function(e,t){r.updateFilters(i.columnFilters),r.resetPaginationOptions(),e(r.odataService.buildQuery())})},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||20);return this.updatePagination(t.newPage,i),this.odataService.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.odataService.buildQuery()},e.prototype.updateFilters=function(y,S){var b="",O=[];S&&(this._currentFilters=this.castFilterToColumnFilter(y));var e=function(e){if(y.hasOwnProperty(e)){var t=y[e],i=void 0;if(!(i=S&&Array.isArray(_._columnDefinitions)?_._columnDefinitions.find(function(e){return e.id===t.columnId}):t.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var r=i.queryField||i.queryFieldFilter||i.field||i.name||"",n=i.type||"string",o=(t?t.searchTerms:null)||[],s=Array.isArray(o)&&1===o.length?o[0]:"";if(void 0===s&&(s=""),"string"!=typeof s&&!o)throw new Error('ODdata filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var a=(s=""+s).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),l=t.operator||(a?a[1]:""),u=a?a[2]:"",c=a?a[3]:"*z"===l?"*":"",d=t.bypassBackendQuery||!1;if(r&&""===u&&0===o.length)return _.removeColumnFilter(r),"continue";if(u=u.replace("'","''"),u=encodeURIComponent(u),d)r&&_.saveColumnFilter(r,s,o);else{if(b="",_.odataService.options.caseType===E.pascalCase&&(r=String.titleCase(r||"")),o&&1<o.length){var h=[];if("IN"===l){for(var p=0,f=o.length;p<f;p++)h.push(r+" eq '"+o[p]+"'");b="("+(b=h.join(" or "))+")"}else if("NIN"===l||"NOTIN"===l||"NOT IN"===l){for(var m=0,g=o.length;m<g;m++)h.push(r+" ne '"+o[m]+"'");b="("+(b=h.join(" and "))+")"}}else if("*"===l||"a*"===l||"*z"===l||""!==c)b="*"===l||"*z"===l?"endswith("+r+", '"+u+"')":"startswith("+r+", '"+u+"')";else if(n===x.date){var v=ne(u,!0);v&&(b=r+" "+_.mapOdataOperator(l)+" DateTime'"+v+"'")}else b=n===x.string?""===l?"substringof('"+u+"', "+r+")":r+" "+_.mapOdataOperator(l)+" '"+u+"'":(u=n===x.number?u:"'"+u+"'",r+" "+_.mapOdataOperator(l)+" "+u);""!==b&&(O.push(String.trim(b)),_.saveColumnFilter(r||"",s,o))}}},_=this;for(var t in y)e(t);this.odataService.updateOptions({filter:0<O.length?O.join(" and "):"",skip:undefined})},e.prototype.updatePagination=function(e,t){this._currentPagination={pageNumber:e,pageSize:t},this.odataService.updateOptions({top:t,skip:(e-1)*t})},e.prototype.updateSorters=function(e,t){var i,r,n=this,o=[],s=[];if(!e&&t){(o=t).forEach(function(e){return e.direction=e.direction.toLowerCase()});var a=o.map(function(t){var e=n._columnDefinitions.find(function(e){return e.id===t.columnId});return s.push({columnId:e?(e.queryField||e.queryFieldSorter||e.field||e.id)+"":t.columnId+"",direction:t.direction}),e?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===I.ASC}:null});this._grid.setSortColumns(a)}else if(e&&!t)if(e&&0===e.length)o=new Array(this.defaultOptions.orderBy);else if(e){try{for(var l=G(e),u=l.next();!u.done;u=l.next()){var c=u.value;if(c.sortCol){var d=(c.sortCol.queryField||c.sortCol.queryFieldSorter||c.sortCol.field||c.sortCol.id)+"",h=(c.sortCol.field||c.sortCol.id)+"";this.odataService.options.caseType===E.pascalCase&&(d=String.titleCase(d),h=String.titleCase(h)),s.push({columnId:h,direction:c.sortAsc?"asc":"desc"})}}}catch(f){i={error:f}}finally{try{u&&!u.done&&(r=l["return"])&&r.call(l)}finally{if(i)throw i.error}}o=s}var p=(o=o||[]).map(function(e){return e&&e.columnId?e.columnId+" "+(e&&e.direction&&e.direction.toLowerCase()||""):""}).join(",");return this.odataService.updateOptions({orderBy:this.odataService.options.caseType===E.pascalCase?String.titleCase(p):p}),this._currentSorters=o,this.odataService.buildQuery()},e.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(e){e.columnDef;var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})},e.prototype.mapOdataOperator=function(e){var t="";switch(e){case"<":t="lt";break;case"<=":t="le";break;case">":t="gt";break;case">=":t="ge";break;case"<>":case"!=":t="ne";break;case"=":case"==":default:t="eq"}return t},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[]},e}(),Ht=function(){function e(){this._eventHandler=new Slick.EventHandler}return e.prototype.attachOnCellChange=function(n,o){this._eventHandler.subscribe(n.onCellChange,function(e,t){if(e&&t&&n&&t.cell!==undefined&&n.getColumns&&n.getDataItem){var i=n.getColumns()[t.cell];if("function"==typeof i.onCellChange){var r={row:t.row,cell:t.cell,dataView:o,gridDefinition:n.getOptions(),grid:n,columnDef:i,dataContext:n.getDataItem(t.row)};i.onCellChange(e,r)}}})},e.prototype.attachOnClick=function(o,s){this._eventHandler.subscribe(o.onClick,function(e,t){if(e&&t&&o&&t.cell!==undefined&&o.getColumns&&o.getDataItem){var i=o.getColumns()[t.cell],r=o.getOptions();if((r&&r.enableCellNavigation&&!r.editable||r.editable&&r.autoCommitEdit)&&o.setActiveCell(t.row,t.cell),"function"==typeof i.onCellClick){var n={row:t.row,cell:t.cell,dataView:s,gridDefinition:o.getOptions(),grid:o,columnDef:i,dataContext:o.getDataItem(t.row)};i.onCellClick(e,n)}}})},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e}(),jt=function(){function e(){this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this.subscriptions=[],this.onGridStateChanged=new m.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t,i,r){this._grid=e,this.extensionService=t,this.filterService=i,this.sortService=r,this.subscribeToAllGridChanges(e)},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this.subscriptions.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),this.subscriptions=[]},e.prototype.getCurrentGridState=function(){var e={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters()},t=this.getCurrentPagination();return t&&(e.pagination=t),e},e.prototype.getColumns=function(){return this._columns||this._grid.getColumns()},e.prototype.getAssociatedCurrentColumns=function(e){var i=[];return e&&Array.isArray(e)&&e.forEach(function(e,t){e&&e.id&&i.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})}),this._currentColumns=i},e.prototype.getAssociatedGridColumns=function(e,t){var r=[],n=e.getColumns();return t&&Array.isArray(t)&&t.forEach(function(t,e){var i=n.find(function(e){return e.id===t.columnId});i&&i.id&&r.push(M({},i,{cssClass:t.cssClass,headerCssClass:t.headerCssClass,width:t.width}))}),this._columns=r},e.prototype.getCurrentColumns=function(){return this._currentColumns&&Array.isArray(this._currentColumns)&&0<this._currentColumns.length?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns())},e.prototype.getCurrentFilters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentFilters)return e.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null},e.prototype.getCurrentPagination=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentPagination)return e.getCurrentPagination()}return null},e.prototype.getCurrentSorters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentSorters)return e.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null},e.prototype.hookExtensionEventToGridStateChange=function(e,t){var n=this,i=this.extensionService&&this.extensionService.getExtensionByName(e);i&&i["class"]&&i["class"][t]&&i["class"][t].subscribe&&this._eventHandler.subscribe(i["class"][t],function(e,t){var i=t&&t.columns,r=n.getAssociatedCurrentColumns(i);n.onGridStateChanged.next({change:{newValues:r,type:T.columns},gridState:n.getCurrentGridState()})})},e.prototype.hookSlickGridEventToGridStateChange=function(e,n){var o=this;n&&n[e]&&n[e].subscribe&&this._eventHandler.subscribe(n[e],function(e,t){var i=n.getColumns(),r=o.getAssociatedCurrentColumns(i);o.onGridStateChanged.next({change:{newValues:r,type:T.columns},gridState:o.getCurrentGridState()})})},e.prototype.resetColumns=function(e){var t=e||this._columns,i=this.getAssociatedCurrentColumns(t);this.onGridStateChanged.next({change:{newValues:i,type:T.columns},gridState:this.getCurrentGridState()})},e.prototype.resetRowSelection=function(){if(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector){var e=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(O.rowSelection);e&&e.addon&&this._grid.setSelectedRows([])}},e.prototype.subscribeToAllGridChanges=function(e){var t=this;this.subscriptions.push(this.filterService.onFilterChanged.subscribe(function(e){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:e,type:T.filter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.filterService.onFilterCleared.subscribe(function(){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:[],type:T.filter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortChanged.subscribe(function(e){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:e,type:T.sorter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortCleared.subscribe(function(){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:[],type:T.sorter},gridState:t.getCurrentGridState()})})),this.hookExtensionEventToGridStateChange(O.columnPicker,"onColumnsChanged"),this.hookExtensionEventToGridStateChange(O.gridMenu,"onColumnsChanged"),this.hookSlickGridEventToGridStateChange("onColumnsReordered",e),this.hookSlickGridEventToGridStateChange("onColumnsResized",e)},e}(),Bt=function(){function e(e,t,i,r,n){this.extensionService=e,this.filterService=t,this.gridStateService=i,this.sortService=r,this.translate=n,this.onItemAdded=new m.Subject,this.onItemDeleted=new m.Subject,this.onItemUpdated=new m.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t},e.prototype.clearAllFiltersAndSorts=function(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()},e.prototype.getColumnFromEventArguments=function(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid,gridDefinition:this._gridOptions}},e.prototype.getDataItemByRowNumber=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");return this._grid.getDataItem(e)},e.prototype.getItemRowMetadataToHighlight=function(r){var n=this;return function(e){var t=n._dataView.getItem(e),i={cssClasses:""};return"function"==typeof r&&(i=r(e)),t&&t._dirty&&(i.cssClasses=(i&&i.cssClasses||"")+" dirty"),i||(i={cssClasses:""}),t&&t.rowClass&&i&&(i.cssClasses+=" "+t.rowClass,i.cssClasses+=" row"+e),i}},e.prototype.highlightRow=function(e,t){var i=this;if(void 0===t&&(t=1500),!this._grid.getSelectionModel()){var r=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{});this._grid.setSelectionModel(r)}var n=Array.isArray(e)?e:[e];this._grid.setSelectedRows(n),Array.isArray(e)?e.forEach(function(e){return i.highlightRowByMetadata(e,t)}):this.highlightRowByMetadata(e,t)},e.prototype.highlightRowByMetadata=function(e,t){var i=this;void 0===t&&(t=1500),this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);var r=this._dataView.getItem(e);if(r&&r.id){r.rowClass="highlight",this._dataView.updateItem(r.id,r);var n=this._grid.getOptions();$("#"+n.gridId).find(".highlight.row"+e).first(),setTimeout(function(){r&&r.id&&(delete r.rowClass,i._dataView.getIdxById(r.id)!==undefined&&i._dataView.updateItem(r.id,r))},t+10)}},e.prototype.getDataItemByRowIndex=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");return this._grid.getDataItem(e)},e.prototype.getDataItemByRowIndexes=function(e){var t=this;if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");var i=[];return Array.isArray(e)&&e.forEach(function(e){i.push(t._grid.getDataItem(e))}),i},e.prototype.getSelectedRows=function(){return this._grid.getSelectedRows()},e.prototype.getSelectedRowsDataItem=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error("We could not find SlickGrid Grid object");var e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)},e.prototype.setSelectedRow=function(e){this._grid.setSelectedRows([e])},e.prototype.setSelectedRows=function(e){this._grid.setSelectedRows(e)},e.prototype.renderGrid=function(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())},e.prototype.resetGrid=function(e){if(this._grid&&this._dataView){var t=this.extensionService.getAllColumns();Array.isArray(t)&&0<t.length&&(this._grid.setColumns(t),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()},e.prototype.addItemToDatagrid=function(e,t,i,r){if(void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0),!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");if(this._dataView.insertItem(0,e),i||this._grid.scrollRowIntoView(0),t&&!i&&this.highlightRow(0,1500),i&&(this._dataView.reSort(),t)){var n=this._dataView.getRowById(e.id);this.highlightRow(n,1500)}r&&this.onItemAdded.next(e)},e.prototype.addItemsToDatagrid=function(e,t,i,r){var n=this;void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0);var o=t;i&&(o=!1),Array.isArray(e)&&e.forEach(function(e){return n.addItemToDatagrid(e,o,!1,!1)}),i&&(this._dataView.reSort(),t&&e.forEach(function(e){var t=n._dataView.getRowById(e.id);n.highlightRow(t,1500)})),r&&this.onItemAdded.next(e)},e.prototype.deleteDataGridItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.hasOwnProperty("id"))throw new Error('deleteDataGridItem() requires an item object which includes the "id" property');var i=e&&e.hasOwnProperty("id")?e.id:undefined;this.deleteDataGridItemById(i,t)},e.prototype.deleteDataGridItems=function(e,t){var i=this;void 0===t&&(t=!0),Array.isArray(e)||this.deleteDataGridItem(e),e.forEach(function(e){return i.deleteDataGridItem(e,!1)}),t&&this.onItemDeleted.next(e)},e.prototype.deleteDataGridItemById=function(e,t){if(void 0===t&&(t=!0),e===undefined)throw new Error('Cannot delete a row without a valid "id"');this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this._grid.setSelectedRows([]),this._dataView.deleteItem(e),t&&this.onItemDeleted.next(e)},e.prototype.deleteDataGridItemByIds=function(e,t){void 0===t&&(t=!0),Array.isArray(e)||this.deleteDataGridItemById(e);for(var i=0;i<e.length;i++)null!==e[i]&&this.deleteDataGridItemById(e[i],!1);t&&this.onItemDeleted.next(e)},e.prototype.updateDataGridItem=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0);var r=e&&e.hasOwnProperty("id")?e.id:undefined;if(r===undefined)throw new Error('Could not find the item in the grid or it\'s associated "id"');return this.updateDataGridItemById(r,e,t,i)},e.prototype.updateDataGridItems=function(e,t,i){var r=this;void 0===t&&(t=!0),void 0===i&&(i=!0),Array.isArray(e)||this.updateDataGridItem(e,t);var n=[];e.forEach(function(e){n.push(r.updateDataGridItem(e,!1,!1))}),t&&this.highlightRow(n),i&&this.onItemUpdated.next(e)},e.prototype.updateDataGridItemById=function(e,t,i,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),e===undefined)throw new Error('Cannot update a row without a valid "id"');var n=this._dataView.getRowById(e);if(!t||n===undefined)throw new Error('Could not find the item in the grid or it\'s associated "id"');var o=this._dataView.getIdxById(e);if(o!==undefined)return this._dataView.updateItem(e,t),this._grid.updateRow(n),i&&this.highlightRow(n,1500),r&&this.onItemUpdated.next(t),o},e.decorators=[{type:v.Injectable}],e.ctorParameters=function(){return[{type:Mt},{type:Ct},{type:jt},{type:Tt},{type:y.TranslateService}]},e}(),Ut=function(){function e(){this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){var i=this;this._grid=e,this._dataView=t,e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel&&(this._eventHandler.subscribe(e.onSort,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(e.onColumnsResized,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(t.onRowCountChanged,function(e,t){i.createPreHeaderRowGroupingTitle()}),setTimeout(function(){i.createPreHeaderRowGroupingTitle()},50))},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e.prototype.createPreHeaderRowGroupingTitle=function(){var e=$(this._grid.getPreHeaderPanel()).empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth());e.parent().addClass("slick-header");for(var t,i,r=this._grid.getHeaderColumnWidthDiff(),n="",o=0,s=0;s<this._columnDefinitions.length;s++)n===(t=this._columnDefinitions[s]).columnGroup&&0<s?(o+=t.width,i.width(o-r)):(o=t.width,i=$('<div class="ui-state-default slick-header-column" />').html('<span class="slick-column-name">'+(t.columnGroup||"")+"</span>").width(t.width-r).appendTo(e)),n=t.columnGroup},e}(),zt=function(){function e(){this.onGridAfterResize=new m.Subject,this.onGridBeforeResize=new m.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridUid",{get:function(){return this._grid&&this._grid.getUID?this._grid.getUID():this._gridOptions&&this._gridOptions.gridId},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,t&&(this._fixedHeight=t.height,this._fixedWidth=t.width)},e.prototype.bindAutoResizeDataGrid=function(e){var t=this,i=$("#"+(this._gridOptions&&this._gridOptions.gridId?this._gridOptions.gridId:"grid1"));if(i===undefined||i.offset()===undefined)return null;this.resizeGrid(10,e),$(window).on("resize.grid."+this._gridUid,function(){t.onGridBeforeResize.next(!0),t.resizeGrid(0,e)})},e.prototype.calculateGridNewDimensions=function(e){var t=$("#"+e.gridId),i=e&&e.autoResize||{},r=i&&i.containerId?$("#"+i.containerId):$("#"+e.gridContainerId);if(!window||r===undefined||t===undefined)return null;var n=i&&i.bottomPadding?i.bottomPadding:20;n&&(e.enablePagination||this._gridOptions.backendServiceApi)&&(n+=35);var o=0,s=0;if("container"===i.calculateAvailableSizeBy)o=r.height()||0;else{o=window.innerHeight||0;var a=t.offset();s=a!==undefined?a.top:0}var l=o-s-n,u=r.width()||0,c=i&&i.maxHeight||undefined,d=i&&i.minHeight||180,h=i&&i.maxWidth||undefined,p=i&&i.minWidth||300,f=l,m=i&&i.sidePadding?u-i.sidePadding:u;return f<d&&(f=d),c&&c<f&&(f=c),m<p&&(m=p),h&&h<m&&(m=h),{height:this._fixedHeight||f,width:this._fixedWidth||m}},e.prototype.dispose=function(){$(window).off("resize.grid."+this._gridUid)},e.prototype.compensateHorizontalScroll=function(e,t){var i=$("#"+t.gridId),r=e&&e.getScrollbarDimensions(),n=r&&r.width,o=Z();n<o&&i.width(i.width()+(o-n))},e.prototype.getLastResizeDimensions=function(){return this._lastDimensions},e.prototype.resizeGrid=function(t,i){var r=this;if(void 0===t&&(t=10),!this._grid||!this._gridOptions)throw new Error('\n      Angular-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');return new Promise(function(e){0<(t=t||0)?(clearTimeout(r._timer),r._timer=setTimeout(function(){return e(r.resizeGridCallback(i))},t)):e(r.resizeGridCallback(i))})},e.prototype.resizeGridCallback=function(e){var t=this.resizeGridWithDimensions(e);return this.onGridAfterResize.next(t),t},e.prototype.resizeGridWithDimensions=function(e){var t=this.calculateGridNewDimensions(this._gridOptions),i=$("#"+this._gridOptions.gridId)||{},r=$("#"+this._gridOptions.gridContainerId)||{};if((e||t)&&0<i.length){var n=e&&e.height?e.height:t.height,o=e&&e.width?e.width:t.width;this._gridOptions.autoHeight||(i.height(n),r.height(n)),i.width(o),r.width(o),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&this._grid&&this._grid.resizeCanvas&&this._grid.resizeCanvas(),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns&&(this._gridUid&&0<$("."+this._gridUid).length&&this._grid.autosizeColumns(),this.compensateHorizontalScroll(this._grid,this._gridOptions)),this._lastDimensions={height:n,width:o},(this._gridOptions.enablePagination||this._gridOptions.backendServiceApi)&&(this._lastDimensions.heightWithPagination=n+35)}return this._lastDimensions},e}(),Qt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._count=0,this._nonNullCount=0,this._sum=0},e.prototype.accumulate=function(e){var t=e[this._field];this._count++,null==t||""===t||isNaN(t)||(this._nonNullCount++,this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e.avg||(e.avg={}),0!==this._nonNullCount&&(e.avg[this._field]=this._sum/this._nonNullCount)},e}(),qt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._min=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(null==this._min||t<this._min)&&(this._min=t)},e.prototype.storeResult=function(e){e.min||(e.min={}),e.min[this._field]=this._min},e}(),Wt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._max=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(null==this._max||t>this._max)&&(this._max=t)},e.prototype.storeResult=function(e){e.max||(e.max={}),e.max[this._field]=this._max},e}(),Yt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._sum=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e.sum||(e.sum={}),e.sum[this._field]=this._sum},e}(),Xt={Avg:Qt,Min:qt,Max:Wt,Sum:Yt},Kt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"collection",{get:function(){return this.columnDef&&this.columnDef&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorOptions",{get:function(){return this.columnEditor&&this.columnEditor.editorOptions||{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var i=this,e=this.columnDef&&this.columnDef.id,t=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value",this.$input=$('<input type="text" role="presentation" autocomplete="off" class="autocomplete editor-text editor-'+e+'" placeholder="'+t+'" title="'+r+'" />').appendTo(this.args.container).on("keydown.nav",function(e){(i._lastInputEvent=e).keyCode!==w.LEFT&&e.keyCode!==w.RIGHT||e.stopImmediatePropagation()});var n=this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.editorOptions,o=this.collection;Array.isArray(o)&&this.customStructure&&(o=o.map(function(e){return{label:e[i.labelName],value:e[i.valueName]}})),n?(n.select=function(e,t){return i.onClose(e,t)},this.$input.autocomplete(n)):this.$input.autocomplete({source:o,minLength:0,select:function(e,t){return i.onClose(e,t)}}),setTimeout(function(){i.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.off("keydown.nav").remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getValue=function(){return this.$input.val()},e.prototype.setValue=function(e){this.$input.val(e)},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){var r=e[i||t];this._currentValue=r,this._defaultTextValue="string"==typeof r?r:r[this.labelName],this.$input.val(this._defaultTextValue),this.$input[0].defaultValue=this._defaultTextValue,this.$input.select()}},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.serializeValue=function(){var e;return this.editorOptions.forceUserInput&&(this._currentValue=3<this.$input.val().length?this.$input.val():this._currentValue),this.customStructure&&this._currentValue.hasOwnProperty(this.labelName)?this._currentValue[this.labelName]:this._currentValue.label?this.columnDef.type===x.object?((e={})[this.labelName]=this._currentValue.label,e[this.valueName]=this._currentValue.value,e):this._currentValue.label:this._currentValue},e.prototype.applyValue=function(e,t){var i=this,r=t,n=this.columnDef&&this.columnDef.field;Array.isArray(this.collection)&&0<this.collection.length&&(r=Y(this.collection,function(e){return e&&e.hasOwnProperty(i.labelName)?e[i.labelName].toString()===t:e.toString()===t}));var o=n.indexOf(".")?n.substring(0,n.indexOf(".")):"",s=this.validate(r);e[o||n]=s&&s.valid?r:""},e.prototype.isValueChanged=function(){var e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==w.ENTER)||!(""===this.$input.val()&&null===this._defaultTextValue)&&this.$input.val()!==this._defaultTextValue},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e.prototype.onClose=function(e,t){if(t&&t.item){this._currentValue=t&&t.item;var i="string"==typeof t.item?t.item:t.item.label;if(this.setValue(i),this.args.grid.getOptions().autoCommitEdit){var r=this.validate();r&&r.valid&&this.args.grid.getEditorLock().commitCurrentEdit()}}return!1},e}(),Zt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="checkbox" value="true" class="editor-checkbox editor-'+t+'" title="'+i+'" />'),this.$input.appendTo(this.args.container),this.$input.focus(),this.args.grid.getOptions().autoCommitEdit&&this.$input.click(function(){return e.args.grid.getEditorLock().commitCurrentEdit()})},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.hide=function(){this.$input.hide()},e.prototype.show=function(){this.$input.show()},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=!!e[i||t],this.defaultValue?this.$input.prop("checked",!0):this.$input.prop("checked",!1))},e.prototype.preClick=function(){this.$input.prop("checked",!this.$input.prop("checked"))},e.prototype.serializeValue=function(){return this.$input.prop("checked")},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){return this.serializeValue()!==this.defaultValue},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.prop&&this.$input.prop("checked"),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&!i?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e}(),Jt=s;require("flatpickr");var ei=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorOptions",{get:function(){return this.columnEditor.editorOptions||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var r=this;if(this.args&&this.args.column){var e=this.columnDef&&this.columnDef.id,t=this.columnEditor&&this.columnEditor.placeholder||"",i=this.columnEditor&&this.columnEditor.title||"",n=this.args.grid.getOptions();this.defaultDate=this.args.item?this.args.item[this.args.column.field]:null;var o=ee(this.columnDef.type||x.dateIso),s=ee(this.columnDef.outputType||x.dateUtc),a=this.getCurrentLocale(this.columnDef,n);2<a.length&&(a=a.substring(0,2));var l={defaultDate:this.defaultDate,altInput:!0,altInputClass:"flatpickr-alt-input",altFormat:o,dateFormat:s,closeOnSelect:!1,locale:"en"!==a?this.loadFlatpickrLocale(a):"en",onChange:function(e,t,i){r.save()}},u=M({},l,this.editorOptions),c=".editor-text.editor-"+e+".flatpickr";this.$input=$('<input type="text" data-defaultDate="'+this.defaultDate+'" class="'+c.replace(/\./g," ")+'" placeholder="'+t+'" title="'+i+'" />'),this.$input.appendTo(this.args.container),this.flatInstance=this.$input[0]&&"function"==typeof this.$input[0].flatpickr?this.$input[0].flatpickr(u):null,this._$inputWithData=u&&u.altInput?$(c+".flatpickr-alt-input"):this.$input}},e.prototype.getCurrentLocale=function(e,t){var i=t||e.params||{};return i.i18n&&i.i18n instanceof y.TranslateService?i.i18n.currentLang:"en"},e.prototype.loadFlatpickrLocale=function(e){var t=this.args&&this.args.grid&&this.args.grid.getOptions();if(t&&t.params&&t.params.flapickrLocale)return t.params.flapickrLocale;if("en"===e)return"en";var i=require("flatpickr/dist/l10n/"+e+".js")["default"];return i&&i[e]?i[e]:"en"},e.prototype.destroy=function(){this.hide(),this.$input.remove(),this._$inputWithData&&"function"==typeof this._$inputWithData.remove&&this._$inputWithData.remove()},e.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},e.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},e.prototype.focus=function(){this._$inputWithData&&this._$inputWithData.focus?this._$inputWithData.focus().select():this.$input&&this.$input.focus&&this.$input.focus().select()},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultDate=e[i||t],this.flatInstance.setDate(e[this.args.column.field]),this.focus())},e.prototype.serializeValue=function(){var e=this.$input.val();if(!e)return"";var t=J(this.args.column.type||x.dateIso);return Jt(e).format(t)},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=J(this.args.column.type||x.dateIso),n=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",o=t?Jt(t,r).toDate():"",s=this.validate(o);e[n||i]=s&&s.valid?o:""},e.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultDate)&&this.$input.val()!==this.defaultDate},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e}(),ti=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="number" role="presentation"  autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" step="'+this.getInputDecimalSteps()+'" />').appendTo(this.args.container).on("keydown.nav",function(e){(t._lastInputEvent=e).keyCode!==w.LEFT&&e.keyCode!==w.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.getDecimalPlaces=function(){var e=this.columnEditor.params&&this.columnEditor.params.hasOwnProperty("decimalPlaces")?this.columnEditor.params.decimalPlaces:undefined;return e===undefined&&(e=0),e||0===e?e:null},e.prototype.getInputDecimalSteps=function(){for(var e=this.getDecimalPlaces(),t="",i=1;i<e;i++)t+="0";return 0<e?"0."+t+"1":"1"},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){this.defaultValue=e[i||t];var r=this.getDecimalPlaces();null!==r&&(this.defaultValue||0===this.defaultValue)&&this.defaultValue.toFixed&&(this.defaultValue=this.defaultValue.toFixed(r)),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()}},e.prototype.serializeValue=function(){var e=this.$input.val();if(""===e||isNaN(e))return e;var t=parseFloat(e),i=this.getDecimalPlaces();return null!==i&&(t||0===t)&&t.toFixed&&(t=parseFloat(t.toFixed(i))),t},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){var e=this.$input.val(),t=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||t!==w.ENTER)||!(""===e&&null===this.defaultValue)&&e!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=isNaN(t)?null:parseFloat(t),r=this.getDecimalPlaces(),n=this.columnEditor.required,o=this.columnEditor.minValue,s=this.columnEditor.maxValue,a=this.columnEditor.errorMessage,l={"{{minValue}}":o,"{{maxValue}}":s,"{{minDecimal}}":0,"{{maxDecimal}}":r},u=!0,c="";return this.validator?this.validator(t,this.args):(n&&""===t?(u=!1,c=a||xe.VALIDATION_REQUIRED_FIELD):isNaN(t)||0===r&&!/^[-+]?(\d+(\.)?(\d)*)$/.test(t)?(u=!1,c=a||xe.VALIDATION_EDITOR_VALID_NUMBER):o!==undefined&&s!==undefined&&null!==i&&(i<o||s<i)?(u=!1,c=a||xe.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return l[e]})):o!==undefined&&null!==i&&i<=o?(u=!1,c=a||xe.VALIDATION_EDITOR_NUMBER_MIN.replace(/{{minValue}}/gi,function(e){return l[e]})):s!==undefined&&null!==i&&s<=i?(u=!1,c=a||xe.VALIDATION_EDITOR_NUMBER_MAX.replace(/{{maxValue}}/gi,function(e){return l[e]})):0<r&&!new RegExp("^(\\d*(\\.)?(\\d){0,"+r+"})$").test(t)&&(u=!1,c=a||xe.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi,function(e){return l[e]})),{valid:u,msg:c})},e}(),ii=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="number" role="presentation"  autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" />').appendTo(this.args.container).on("keydown.nav",function(e){(t._lastInputEvent=e).keyCode!==w.LEFT&&e.keyCode!==w.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=parseInt(e[i||t],10),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select())},e.prototype.serializeValue=function(){var e=this.$input.val();return""===e||isNaN(e)?e:parseInt(e,10)||0},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){var e=this.$input.val(),t=isNaN(e)?e:parseInt(e,10),i=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||i!==w.ENTER)||!(""===t&&null===this.defaultValue&&i!==w.ENTER)&&t!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=isNaN(t)?null:parseInt(t,10),r=this.columnEditor.errorMessage,n=this.columnEditor.required,o=this.columnEditor.minValue,s=this.columnEditor.maxValue,a={"{{minValue}}":o,"{{maxValue}}":s},l=!0,u="";return this.validator?this.validator(t,this.args):(n&&""===t?(l=!1,u=r||xe.VALIDATION_REQUIRED_FIELD):isNaN(t)||!/^[+-]?\d+$/.test(t)?(l=!1,u=r||xe.VALIDATION_EDITOR_VALID_INTEGER):o!==undefined&&s!==undefined&&null!==i&&(i<o||s<i)?(l=!1,u=r||xe.VALIDATION_EDITOR_INTEGER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return a[e]})):o!==undefined&&null!==i&&i<=o?(l=!1,u=r||xe.VALIDATION_EDITOR_INTEGER_MIN.replace(/{{minValue}}/gi,function(e){return a[e]})):s!==undefined&&null!==i&&s<=i&&(l=!1,u=r||xe.VALIDATION_EDITOR_INTEGER_MAX.replace(/{{maxValue}}/gi,function(e){return a[e]})),{valid:l,msg:u})},e}(),ri=function(){function e(e){this.args=e,this.gridOptions=this.args.grid.getOptions();var t=this.gridOptions||this.args.column.params||{};this._translate=t.i18n,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"",n=this._translate&&this._translate.instant("CANCEL")||xe.TEXT_CANCEL,o=this._translate&&this._translate.instant("SAVE")||xe.TEXT_SAVE,s=$("body");this.$wrapper=$('<div class="slick-large-editor-text editor-'+t+'" />').appendTo(s),this.$textarea=$('<textarea hidefocus rows="5" placeholder="'+i+'" title="'+r+'">').appendTo(this.$wrapper),this.hasAutoCommitEdit&&this.$textarea.on("focusout",function(){return e.save()}),$('<div class="editor-footer">\n          <button class="btn btn-primary btn-xs">'+o+'</button>\n          <button class="btn btn-default btn-xs">'+n+"</button>\n      </div>").appendTo(this.$wrapper),this.$wrapper.find("button:first").on("click",function(){return e.save()}),this.$wrapper.find("button:last").on("click",function(){return e.cancel()}),this.$textarea.on("keydown",this.handleKeyDown.bind(this)),this.position(this.args&&this.args.position),this.$textarea.focus().select()},e.prototype.handleKeyDown=function(e){e.which===w.ENTER&&e.ctrlKey?this.save():e.which===w.ESCAPE?(e.preventDefault(),this.cancel()):e.which===w.TAB&&e.shiftKey?(e.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigatePrev()):e.which===w.TAB&&(e.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigateNext())},e.prototype.cancel=function(){this.$textarea.val(this.defaultValue),this.args&&this.args.cancelChanges&&this.args.cancelChanges()},e.prototype.hide=function(){this.$wrapper.hide()},e.prototype.show=function(){this.$wrapper.show()},e.prototype.position=function(e){this.$wrapper.css("top",(e.top||0)-5).css("left",(e.left||0)-5)},e.prototype.destroy=function(){this.$wrapper.off("keydown focusout").remove()},e.prototype.focus=function(){this.$textarea.focus()},e.prototype.getValue=function(){return this.$textarea.val()},e.prototype.setValue=function(e){this.$textarea.val(e)},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t],this.$textarea.val(this.defaultValue),this.$textarea.select())},e.prototype.serializeValue=function(){return this.$textarea.val()},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){return!(""===this.$textarea.val()&&null===this.defaultValue)&&this.$textarea.val()!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$textarea&&this.$textarea.val&&this.$textarea.val(),r=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):t&&""===i?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e}(),ni=l,oi=function(){function e(e,t){var i=this;this.args=e,this.isMultipleSelect=t,this._subscriptions=[],this._destroying=!1,this.gridOptions=this.args.grid.getOptions();var r=this.gridOptions||this.args.column.params||{};this._translate=r.i18n;var n=this.columnDef&&this.columnDef.id;this.elementName="editor-"+n;var o={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,name:this.elementName,single:!0,textTemplate:function(e){return i.columnDef&&i.columnDef.internalColumnEditor&&i.columnDef.internalColumnEditor.enableRenderHtml||!1?e.text():e.html()},onBlur:function(){return i.destroy()},onClose:function(){!i._destroying&&i.hasAutoCommitEdit&&e.grid.getEditorLock().commitCurrentEdit()}};t&&(o.single=!1,o.addTitle=!0,o.okButton=!0,o.selectAllDelimiter=["",""],this._translate&&(o.countSelected=this._translate.instant("X_OF_Y_SELECTED"),o.allSelected=this._translate.instant("ALL_SELECTED"),o.selectAllText=this._translate.instant("SELECT_ALL"))),this.defaultOptions=o,this.init()}return Object.defineProperty(e.prototype,"collection",{get:function(){return this.columnDef&&this.columnDef&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValues",{get:function(){var o=this;if(this.collection.every(function(e){return"string"==typeof e}))return this.collection.filter(function(e){return-1!==o.$editorElm.val().indexOf(e.toString())});var s=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",a=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1;return this.collection.filter(function(e){return-1!==o.$editorElm.val().indexOf(e[o.valueName].toString())}).map(function(e){var t=e[o.valueName],i=e[o.labelPrefixName]||"",r=e[o.labelSuffixName]||"",n=o.columnDef&&o.columnDef.field;return(n.indexOf(".")?n.substring(0,n.indexOf(".")):"")&&"object"==typeof e?e:(i=o.enableTranslateLabel&&i&&"string"==typeof i?o._translate.instant(i||" "):i,r=o.enableTranslateLabel&&r&&"string"==typeof r?o._translate.instant(r||" "):r,a?[i,t,r].filter(function(e){return e}).join(s):t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){var t=this;if(this.collection.every(function(e){return"string"==typeof e}))return Y(this.collection,function(e){return e.toString()===t.$editorElm.val()});var e=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",i=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1,r=Y(this.collection,function(e){return e[t.valueName].toString()===t.$editorElm.val()}),n=this.columnDef&&this.columnDef.field;if((n.indexOf(".")?n.substring(0,n.indexOf(".")):"")&&"object"==typeof r)return r;if(r){var o=r[this.valueName];if(i){var s=r[this.labelPrefixName]||"",a=r[this.labelSuffixName]||"";return[s=this.enableTranslateLabel&&s&&"string"==typeof s?this._translate.instant(s||" "):s,o,a=this.enableTranslateLabel&&a&&"string"==typeof a?this._translate.instant(a||" "):a].filter(function(e){return e}).join(e)}return o}return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){if(!this.args)throw new Error('[Angular-SlickGrid] An editor must always have an "init()" with valid arguments.');if(!this.columnDef||!this.columnDef.internalColumnEditor||!this.columnDef.internalColumnEditor.collection&&!this.columnDef.internalColumnEditor.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") inside Column Definition Editor for the MultipleSelect/SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }");if(this._collectionService=new Te(this._translate),this.enableTranslateLabel=!!this.columnDef.internalColumnEditor.enableTranslateLabel&&this.columnDef.internalColumnEditor.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this._translate||"function"!=typeof this._translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Editor to work correctly");this.renderDomElement(this.collection)},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=this.columnDef&&this.columnDef.type,n=t;r!==x.number&&r!==x.integer&&r!==x["boolean"]||(n=parseFloat(t)),this.isMultipleSelect&&"string"==typeof t&&0<=t.indexOf(",")&&(n=t.split(","));var o=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",s=this.validate(n);e[o||i]=s&&s.valid?n:""},e.prototype.destroy=function(){if(this._destroying=!0,this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect){this.$editorElm.multipleSelect("destroy"),this.$editorElm.remove();var e=this.elementName.toString().replace(".","\\.");$("[name="+e+"].ms-drop").remove()}else this.$editorElm&&"function"==typeof this.$editorElm.remove&&this.$editorElm.remove();this._subscriptions=ue(this._subscriptions)},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";if(e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))){var r=e[i||t],n=i&&r.hasOwnProperty(this.valueName)?r[this.valueName]:r;this.isMultipleSelect&&Array.isArray(n)?this.loadMultipleValues(n):this.loadSingleValue(n),this.refresh()}},e.prototype.loadMultipleValues=function(e){if(Array.isArray(e)){this.defaultValue=e.map(function(e){return e});var i=e.map(function(e){return e.toString()});this.$editorElm.find("option").each(function(e,t){t.selected=-1!==i.indexOf(t.value)})}},e.prototype.loadSingleValue=function(i){this.defaultValue=i,this.$editorElm.find("option").each(function(e,t){t.selected=i.toString()===t.value})},e.prototype.serializeValue=function(){return this.isMultipleSelect?this.currentValues:this.currentValue},e.prototype.focus=function(){this.$editorElm&&this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("focus")},e.prototype.isValueChanged=function(){return this.isMultipleSelect?!q(this.$editorElm.val(),this.defaultValue):this.$editorElm.val()!==this.defaultValue},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$editorElm&&this.$editorElm.val&&this.$editorElm.val(),r=this.columnEditor.errorMessage;if(this.validator){var n=e!==undefined?e:this.isMultipleSelect?this.currentValues:this.currentValue;return this.validator(n,this.args)}return t&&(""===i||Array.isArray(i)&&0===i.length)?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e.prototype.filterCollection=function(e){var t=e;if(this.columnEditor&&this.columnEditor.collectionFilterBy){var i=this.columnEditor.collectionFilterBy,r=this.columnEditor.collectionOptions&&this.columnEditor.collectionOptions.filterResultAfterEachPass||null;t=this._collectionService.filterCollection(t,i,r)}return t},e.prototype.sortCollection=function(e){var t=e;if(this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionSortBy){var i=this.columnDef.internalColumnEditor.collectionSortBy;t=this._collectionService.sortCollection(this.columnDef,t,i,this.enableTranslateLabel)}return t},e.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=K(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Editor is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&e.unshift(this.createBlankEntry());var t=e||[];t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t);this.createDomElement(i)},e.prototype.buildTemplateHtmlString=function(e){var a=this,l="",t=this.columnDef&&this.columnDef.id,u=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",c=this.columnDef.internalColumnEditor.enableRenderHtml||!1,d=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(e){l+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):e.forEach(function(e){if(!e||e[a.labelName]===undefined&&e.labelKey===undefined)throw new Error("[select-editor] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])");var t=e.labelKey||e[a.labelName],i=(e.labelKey||a.enableTranslateLabel)&&t?a._translate.instant(t||" "):t,r=e[a.labelPrefixName]||"",n=e[a.labelSuffixName]||"",o=e[a.optionLabel]||"";o=o.toString().replace(/\"/g,"'"),r=a.enableTranslateLabel&&r&&"string"==typeof r?a._translate.instant(r||" "):r,n=a.enableTranslateLabel&&n&&"string"==typeof n?a._translate.instant(n||" "):n,o=a.enableTranslateLabel&&o&&"string"==typeof o?a._translate.instant(o||" "):o;var s=[r,i,n].filter(function(e){return e}).join(u);c&&(s=z(ni.sanitize(s,d)));l+='<option value="'+e[a.valueName]+'" label="'+o+'">'+s+"</option>"}),'<select id="'+this.elementName+'" class="ms-filter search-filter editor-'+t+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+l+"</select>"},e.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},e.prototype.createDomElement=function(e){var t=this;if(this.$editorElm=$(e),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container),"function"!=typeof this.$editorElm.multipleSelect)this.$editorElm.addClass("form-control");else{var i=this.columnDef.internalColumnEditor?this.columnDef.internalColumnEditor.elementOptions:{};this.editorElmOptions=M({},this.defaultOptions,i),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout(function(){t.$editorElm&&"function"==typeof t.$editorElm.multipleSelect&&t.$editorElm.multipleSelect("open")})}},e.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},e}(),si=function(i){function e(e){var t=i.call(this,e,!0)||this;return t.args=e,t}return R(e,i),e}(oi),ai=function(i){function e(e){var t=i.call(this,e,!1)||this;return t.args=e,t}return R(e,i),e}(oi),li=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorParams",{get:function(){return this.columnEditor.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,e=this.args&&this.args.container,i=this.args&&this.args.item&&this.args.item.id;this._elementRangeInputId="rangeInput_"+this.columnDef.field+"_"+i,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field+"_"+i;var r=this.buildTemplateHtmlString();this.$editorElm=$(r),this.$input=this.$editorElm.children("input"),this.$sliderNumber=this.$editorElm.children("div.input-group-addon.input-group-append").children(),this.$editorElm.appendTo(e).on("mouseup",function(){return t.save()}),this.editorParams.hideSliderNumber||this.$editorElm.on("input change",function(e){((t._lastInputEvent=e)&&e.target&&e.target.value||"")&&(document.getElementById(t._elementRangeOutputId).innerHTML=e.target.value)})},e.prototype.destroy=function(){this.$editorElm.off("input change mouseup").remove()},e.prototype.focus=function(){this.$editorElm.focus()},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.cancel=function(){this.$input.val(this.defaultValue),this.args.cancelChanges()},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t],this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$sliderNumber.html(this.defaultValue))},e.prototype.serializeValue=function(){return parseInt(this.$input.val(),10)||0},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){var e=this.$input.val(),t=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||t!==w.ENTER)||!(""===e&&null===this.defaultValue)&&e!==this.defaultValue},e.prototype.validate=function(e){var t=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),i=this.columnEditor.required,r=this.columnEditor.minValue,n=this.columnEditor.maxValue,o=this.columnEditor.errorMessage,s={"{{minValue}}":r,"{{maxValue}}":n};return this.validator?this.validator(t,this.args):i&&""===t?{valid:!1,msg:o||xe.VALIDATION_REQUIRED_FIELD}:r!==undefined&&(t<r||n<t)?{valid:!1,msg:o||xe.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return s[e]})}:{valid:!0,msg:null}},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.columnEditor&&this.columnEditor.title||"",i=this.columnEditor.hasOwnProperty("minValue")?this.columnEditor.minValue:0,r=this.columnEditor.hasOwnProperty("maxValue")?this.columnEditor.maxValue:100,n=this.editorParams.hasOwnProperty("sliderStartValue")?this.editorParams.sliderStartValue:i,o=this.columnEditor.hasOwnProperty("valueStep")?this.columnEditor.valueStep:1;return this.editorParams.hideSliderNumber?'\n      <div class="slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          title="'+t+'"\n          defaultValue="'+n+'" min="'+i+'" max="'+r+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n      </div>':'\n      <div class="input-group slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          title="'+t+'"\n          defaultValue="'+n+'" min="'+i+'" max="'+r+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n        <div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+n+"</span></div>\n      </div>"},e}(),ui=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this.$input=$('<input type="text" role="presentation"  autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" />').appendTo(this.args.container).on("keydown.nav",function(e){(t._lastInputEvent=e).keyCode!==w.LEFT&&e.keyCode!==w.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return t.save()}),setTimeout(function(){t.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.off("keydown.nav focusout").remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getValue=function(){return this.$input.val()},e.prototype.setValue=function(e){this.$input.val(e)},e.prototype.loadValue=function(e){var t=this.columnDef&&this.columnDef.field,i=t.indexOf(".")?t.substring(0,t.indexOf(".")):"";e&&this.columnDef&&(e.hasOwnProperty(t)||e.hasOwnProperty(i))&&(this.defaultValue=e[i||t]||"",this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select())},e.prototype.serializeValue=function(){return this.$input.val()},e.prototype.applyValue=function(e,t){var i=this.columnDef&&this.columnDef.field,r=i.indexOf(".")?i.substring(0,i.indexOf(".")):"",n=this.validate(t);e[r||i]=n&&n.valid?t:""},e.prototype.isValueChanged=function(){var e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==w.ENTER)||!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(e){var t=this.columnEditor.required,i=e!==undefined?e:this.$input&&this.$input.val&&this.$input.val(),r=this.columnEditor.errorMessage;if(this.validator){var n=this.$input&&this.$input.val&&this.$input.val();return this.validator(n,this.args)}return t&&""===i?{valid:!1,msg:r||xe.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},e}(),ci={autoComplete:Kt,checkbox:Zt,date:ei,"float":ti,integer:ii,longText:ri,multipleSelect:si,singleSelect:ai,slider:li,text:ui},di=function(e,t,i,r,n){var o=r&&r.params||{},s=o.propertyNames,a=o.dataContextProperty;if(a||(a=r&&r.field&&r.field.split(".")[0]),!s||!Array.isArray(s)||!a)throw new Error('Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.\n      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: [\'firtName\'] }}.\n      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.');if(n[a]&&Array.isArray(n[a])&&Array.isArray(n[a])&&0<n[a].length){var l=[];n[a].forEach(function(t){var i=[];s.forEach(function(e){i.push(t[e])}),l.push(i.join(" "))});var u=l.join(", ");return'<span title="'+u+'">'+u+"</span>"}return i},hi=function(e,t,i,r,n){if(i&&Array.isArray(i)&&0<i.length){var o=i.join(", ");return'<span title="'+o+'">'+o+"</span>"}return i},pi=function(e,t,i,r,n){return i?"<b>"+i+"</b>":""},fi=function(e,t,i,r,n){return i?"&#x2611;":""},mi=function(e,t,i,r,n){return re(i)?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},gi=function(e,t,i,r,n){if(!(i&&r&&r.params&&r.params.collection&&r.params.collection.length))return i;var o=r.params,s=r.params.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?hi(0,0,i.map(function(t){return Y(s,function(e){return e[l]===t})[a]})):Y(s,function(e){return e[l]===i})[a]||""},vi=function(e,t,i,r,n){if(!(i&&r&&r.internalColumnEditor&&r.internalColumnEditor.collection&&r.internalColumnEditor.collection.length))return i;var o=r.internalColumnEditor,s=r.internalColumnEditor.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?s.every(function(e){return"string"==typeof e})?hi(0,0,i.map(function(t){return Y(s,function(e){return e===t})})):hi(0,0,i.map(function(t){return Y(s,function(e){return e[l]===t})[a]})):Y(s,function(e){return e[l]===i})[a]||""},yi=function(e,t,i,r,n){if(!r)return"";var o=r.params||{},s=o&&o.complexFieldLabel||r.field;if(!s)throw new Error("For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.\n      There are 3 ways to provide it:\n      1- via the generic \"params\" with a \"complexFieldLabel\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexFieldLabel: 'user.firstName' } }]\n      2- via the generic \"params\" with a \"complexFieldLabel\" and a \"labelKey\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName' params: { complexFieldLabel: 'user' } }]\n      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] ");return r.labelKey&&n.hasOwnProperty(s)?n[s]&&n[s][r.labelKey]:"string"==typeof s&&0<s.indexOf(".")?s.split(".").reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:i},n):i},Si=s,bi=J(x.dateIso),Oi=function(e,t,i,r,n){var o=Si(i,bi,!1).isValid();return i&&o?Si(i).format(bi):i},_i=s,Ei=J(x.dateTimeIso),Ci=function(e,t,i,r,n){var o=_i(i,Ei,!1).isValid();return i&&o?_i(i).format(Ei):i},Ti=s,wi=J(x.dateTimeIsoAmPm),xi=function(e,t,i,r,n){var o=Ti(i,wi,!1).isValid();return i&&o?Ti(i).format(wi):i},Di=s,Ii=J(x.dateTimeUsAmPm),Ai=function(e,t,i,r,n){var o=Di(i,Ii,!1).isValid();return i&&o?Di(i).format(Ii):i},Pi=s,ki=J(x.dateTimeUs),Fi=function(e,t,i,r,n){var o=Pi(i,ki,!1).isValid();return i&&o?Pi(i).format(ki):i},Vi=s,Ri=J(x.dateTimeShortIso),Mi=function(e,t,i,r,n){var o=Vi(i,Ri,!1).isValid();return i&&o?Vi(i).format(Ri):i},Ni=s,$i=J(x.dateTimeShortUs),Li=function(e,t,i,r,n){var o=Ni(i,$i,!1).isValid();return i&&o?Ni(i).format($i):i},Gi=s,Hi=J(x.dateUs),ji=function(e,t,i,r,n){var o=Gi(i,Hi,!1).isValid();return i&&o?Gi(i).format(Hi):i},Bi=function(e,t,i,r,n){var o=r.params||{},s=null!==o.minDecimal&&o.minDecimal||null!==o.minDecimalPlaces&&o.minDecimalPlaces||null!==o.decimalPlaces&&o.decimalPlaces||2,a=null!==o.maxDecimal&&o.maxDecimal||null!==o.maxDecimalPlaces&&o.maxDecimalPlaces||2;return null!==i&&i!==undefined&&""!==i&&!isNaN(+i)?""+X(i,s,a):i},Ui=function(e,t,i,r,n){return'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>'},zi=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.maxDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?X(i,a,l):i;return o?0<=i?'<span style="color:green; font-weight:bold;">$'+u+"</span>":'<span style="color:red; font-weight:bold;">$'+u+"</span>":i},Qi=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.maxDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?X(i,a,l):i;return o?0<=i?'<span style="color:green;">$'+u+"</span>":'<span style="color:red;">$'+u+"</span>":i},qi=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&""!==i&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.maxDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?X(i,a,l):i;return o?"$"+u:i},Wi=function(e,t,i,r,n){return'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>'},Yi=l,Xi=function(e,t,i,r,n){var o=r&&r.params||{},s=o.hyperlinkText?o.hyperlinkText:i;s=Yi.sanitize(s||"");var a=o.hyperlinkUrl?o.hyperlinkUrl:i,l=(a=Yi.sanitize(a||"")).match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);return l&&Array.isArray(l)&&0<l.length?'<a href="'+l[0]+'">'+s+"</a>":i},Ki=function(e,t,i,r,n){var o=r&&r.params||{},s=o.icon||o.formatterIcon;if(!s)throw new Error('You must provide the "icon" or "formatterIcon" via the generic "params" options (e.g.: { formatter: Formatters.icon, params: { formatterIcon: \'fa fa-search\' }}');return'<i class="'+s+'" aria-hidden="true"></i>'},Zi=function(e,t,i,r,n){return'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>'},Ji=function(e,t,i,r,n){return i?"<i>"+i+"</i>":""},er=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toLowerCase():""},tr=function(e,t,i,r,n){var o=(r.params||{}).mask;if(!o)throw new Error('You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: \'000-000\' }}');if(i){var s=0,a=i.toString();return o.replace(/[09A]/gi,function(e){return(("0"===e||"9"===e)&&/\d*/g.test(a[s])||"A"===e.toUpperCase()&&/[^\d]*/gi.test(a[s]))&&a[s++]||""})}return i},ir=function(e,t,i,r,n,o){var s,a,l=r.params||{};if(!l.formatters||!Array.isArray(l.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');var u=l.formatters,c=i;try{for(var d=G(u),h=d.next();!h.done;h=d.next()){c=(0,h.value)(e,t,c,r,n,o)}}catch(p){s={error:p}}finally{try{h&&!h.done&&(a=d["return"])&&a.call(d)}finally{if(s)throw s.error}}return c},rr=function(e,t,i,r,n){return null===i||i===undefined||""===i||isNaN(+i)?i:100*i+"%"},nr=function(e,t,i,r,n){if(!(null!==i&&i!==undefined&&""!==i&&!isNaN(+i)))return"";var o=parseFloat(i);return 100<o&&(o=100),'<span class="percent-complete-bar" style="background:'+(o<30?"red":o<70?"silver":"green")+"; width:"+o+'%"></span>'},or=function(e,t,i,r,n){return null!==i&&i!==undefined&&""!==i&&!isNaN(+i)?i<50?"<span style='color:red;font-weight:bold;'>"+i+"%</span>":"<span style='color:green'>"+(100<i?100:i)+"%</span>":i},sr=function(e,t,i,r,n){return null!==i&&i!==undefined&&""!==i&&!isNaN(+i)?i+"%":i},ar=function(e,t,i,r,n){if(!(null!==i&&i!==undefined&&""!==i&&!isNaN(+i)))return"";var o="",s=parseFloat(i);return 100<s&&(s=100),('<div class="progress">\n    <div class="progress-bar progress-bar-'+(o=s<30?"danger":s<70?"warning":"success")+" bg-"+o+'" role="progressbar" aria-valuenow="'+s+'" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: '+s+'%;">\n    '+s+"%\n    </div>\n  </div>").replace(/\s{2,}/g," ").trim()},lr=function(e,t,i,r,n,o){var s=(o&&"function"==typeof o.getOptions?o.getOptions():{}).i18n||r&&r.params&&r.params.i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&null!==i&&"string"!=typeof i&&(i+=""),i?s.instant(i):""},ur=function(e,t,i,r,n,o){var s=(o&&"function"==typeof o.getOptions?o.getOptions():{}).i18n||r&&r.params&&r.params.i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&null!==i&&"string"!=typeof i&&(i+=""),i?s.instant(i.toUpperCase()):""},cr=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toUpperCase():""},dr=function(e,t,i,r,n){return i?"Yes":"No"},hr={arrayObjectToCsv:di,arrayToCsv:hi,bold:pi,checkbox:fi,checkmark:mi,complexObject:yi,collection:gi,collectionEditor:vi,dateIso:Oi,dateTimeIso:Ci,dateTimeShortIso:Mi,dateTimeIsoAmPm:xi,dateUs:ji,dateTimeUs:Fi,dateTimeShortUs:Li,dateTimeUsAmPm:Ai,deleteIcon:Ui,decimal:Bi,dollar:qi,dollarColored:Qi,dollarColoredBold:zi,editIcon:Wi,hyperlink:Xi,icon:Ki,infoIcon:Zi,italic:Ji,lowercase:er,mask:tr,multiple:ir,percent:rr,percentComplete:or,percentCompleteBar:nr,percentSymbol:sr,progressBar:ar,translate:lr,translateBoolean:ur,uppercase:cr,yesNo:dr},pr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+"%"+s:""},fr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+"$"+X(n,2,4)+s:""},mr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+s:""},gr=function(e,t,i){var r=t.field||"",n=e.min&&e.min[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},vr=function(e,t,i){var r=t.field||"",n=e.max&&e.max[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},yr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s)+"</span>":'<span style="color:red;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s)+"</span>"},Sr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green; font-weight: bold;">'+o+"$"+X(n,2,2)+s+"</span>":'<span style="color:red; font-weight: bold;">'+o+"$"+X(n,2,2)+s+"</span>"},br=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green;">'+o+"$"+X(n,2,2)+s+"</span>":'<span style="color:red;">'+o+"$"+X(n,2,2)+s+"</span>"},Or=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+o+"$"+X(n,2,4)+s+"</span>":""},_r=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+"$"+X(n,2,2)+s:""},Er=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},Cr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s):""},Tr={avgTotals:mr,avgTotalsDollar:fr,avgTotalsPercentage:pr,maxTotals:vr,minTotals:gr,sumTotals:Er,sumTotalsBold:Cr,sumTotalsColored:yr,sumTotalsDollar:_r,sumTotalsDollarBold:Or,sumTotalsDollarColored:br,sumTotalsDollarColoredBold:Sr},wr=function(){function e(e,t){this.filterService=e,this.gridService=t,this._eventHandler=new Slick.EventHandler,this._isFirstRender=!0,this.onPaginationChanged=new v.EventEmitter,this.dataFrom=1,this.dataTo=1,this.pageCount=0,this.pageNumber=1,this.totalItems=0,this.paginationPageSizes=[25,75,100],this.fromToParams={from:this.dataFrom,to:this.dataTo,totalItems:this.totalItems}}return Object.defineProperty(e.prototype,"gridPaginationOptions",{get:function(){return this._gridPaginationOptions},set:function(e){this._gridPaginationOptions=e,!this._isFirstRender&&e&&e.pagination&&e.pagination.totalItems===this.totalItems||(this.refreshPagination(),this._isFirstRender=!1)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){var t=this;this._gridPaginationOptions=this._gridPaginationOptions,this._gridPaginationOptions&&this._gridPaginationOptions.pagination&&this._gridPaginationOptions.pagination.totalItems===this.totalItems||this.refreshPagination(),this._filterSubcription=this.filterService.onFilterChanged.subscribe(function(){return t.refreshPagination(!0)}),this._filterSubcription=this.filterService.onFilterCleared.subscribe(function(){return t.refreshPagination(!0)}),this.dataView&&(this.gridService.onItemAdded.subscribe(function(e){return t.onItemAddedOrRemoved(e,!0)}),this.gridService.onItemDeleted.subscribe(function(e){return t.onItemAddedOrRemoved(e,!1)}))},e.prototype.ceil=function(e){return Math.ceil(e)},e.prototype.changeToFirstPage=function(e){this.pageNumber=1,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToLastPage=function(e){this.pageNumber=this.pageCount,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToNextPage=function(e){this.pageNumber<this.pageCount&&(this.pageNumber++,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToPreviousPage=function(e){0<this.pageNumber&&(this.pageNumber--,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToCurrentPage=function(e){this.pageNumber=+e.currentTarget.value,this.pageNumber<1?this.pageNumber=1:this.pageNumber>this.pageCount&&(this.pageNumber=this.pageCount),this.onPageChanged(e,this.pageNumber)},e.prototype.dispose=function(){this.onPaginationChanged.unsubscribe(),this._filterSubcription&&this._filterSubcription.unsubscribe(),this._eventHandler.unsubscribeAll()},e.prototype.onChangeItemPerPage=function(e){var t=+e.target.value;this.pageCount=Math.ceil(this.totalItems/t),this.pageNumber=0<this.totalItems?1:0,this.itemsPerPage=t,this.onPageChanged(e,this.pageNumber)},e.prototype.refreshPagination=function(e){void 0===e&&(e=!1);var t=this._gridPaginationOptions.backendServiceApi;if(!t||!t.service||!t.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this._gridPaginationOptions&&this._gridPaginationOptions.pagination){var i=this._gridPaginationOptions.pagination;this.itemsPerPage||(this.itemsPerPage=+(t&&t.options&&t.options.paginationOptions&&t.options.paginationOptions.first?t.options.paginationOptions.first:this._gridPaginationOptions.pagination.pageSize)),(e||this.totalItems!==i.totalItems)&&(this._isFirstRender&&i.pageNumber&&1<i.pageNumber?this.pageNumber=i.pageNumber||1:this.pageNumber=1,1===this.pageNumber&&t.service.resetPaginationOptions()),this.paginationPageSizes=this._gridPaginationOptions.pagination.pageSizes,this.totalItems=this._gridPaginationOptions.pagination.totalItems,this.recalculateFromToIndexes()}this.pageCount=Math.ceil(this.totalItems/this.itemsPerPage)},e.prototype.onPageChanged=function(e,t){var i=this;this.recalculateFromToIndexes();var r=this._gridPaginationOptions.backendServiceApi;if(!r||!r.service||!r.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this.dataTo>this.totalItems?this.dataTo=this.totalItems:this.totalItems<this.itemsPerPage&&(this.dataTo=this.totalItems),!r)throw new Error('Pagination with a backend service requires "BackendServiceApi" to be defined in your grid options');try{var n=+this.itemsPerPage,o=new Date;r.preProcess&&r.preProcess();var s=r.service.processOnPaginationChanged(e,{newPage:t,pageSize:n}),a=r.process(s);a instanceof Promise&&a.then?a.then(function(e){return k(o,e,r,i._gridPaginationOptions)}):m.isObservable(a)&&a.subscribe(function(e){return k(o,e,r,i._gridPaginationOptions)},function(e){return F(e,r)})}catch(l){F(l,r)}this.onPaginationChanged.emit({pageNumber:this.pageNumber,pageSizes:this.paginationPageSizes,pageSize:this.itemsPerPage,totalItems:this.totalItems})},e.prototype.recalculateFromToIndexes=function(){0===this.totalItems?(this.dataFrom=0,this.dataTo=0,this.pageNumber=0):(this.dataFrom=this.pageNumber*this.itemsPerPage-this.itemsPerPage+1,this.dataTo=this.totalItems<this.itemsPerPage?this.totalItems:this.pageNumber*this.itemsPerPage)},e.prototype.onItemAddedOrRemoved=function(e,t){if(void 0===t&&(t=!0),null!==e){var i=this.dataTo,r=Array.isArray(e)?e.length:1,n=t?+r:-r;this.totalItems+=n,this.recalculateFromToIndexes(),this.dataTo=i+n}},e.decorators=[{type:v.Component,args:[{selector:"slick-pagination",template:'<div class="slick-pagination">\n    <div class="slick-pagination-nav">\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-first fa fa-angle-double-left" aria-label="First" (click)="changeToFirstPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-prev fa fa-angle-left" aria-label="Previous" (click)="changeToPreviousPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n\n        <div class="slick-page-number">\n            <span [translate]="\'PAGE\'"></span>\n            <input type="text" class="form-control" [value]="pageNumber" size="1" [readOnly]="totalItems === 0" (change)="changeToCurrentPage($event)">\n            <span [translate]="\'OF\'"></span><span> {{pageCount}}</span>\n        </div>\n\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-next text-center fa fa-lg fa-angle-right" aria-label="Next" (click)="changeToNextPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-end fa fa-lg fa-angle-double-right" aria-label="Last" (click)="changeToLastPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n    </div>\n    <span class="slick-pagination-settings">\n        <select id="items-per-page-label" [value]="itemsPerPage" (change)="onChangeItemPerPage($event)">\n        <option value="{{pageSize}}" *ngFor="let pageSize of paginationPageSizes;">{{pageSize}}</option>\n        </select>\n        <span [translate]="\'ITEMS_PER_PAGE\'"></span>,\n        <span class="slick-pagination-count">\n            <span [translate]="\'FROM_TO_OF_TOTAL_ITEMS\'" [translateParams]="{ from: dataFrom, to: dataTo, totalItems: totalItems }"></span>\n        </span>\n    </span>\n    </div>\n'}]},{type:v.Injectable}],e.ctorParameters=function(){return[{type:Ct},{type:Bt}]},e.propDecorators={onPaginationChanged:[{type:v.Output}],dataView:[{type:v.Input}],gridPaginationOptions:[{type:v.Input}],grid:[{type:v.Input}]},e}(),xr=function(){function e(e,t,i,r,n,o,s,a,l,u,c,d,h,p){this.elm=e,this.exportService=t,this.extensionService=i,this.extensionUtility=r,this.filterService=n,this.gridService=o,this.gridEventService=s,this.gridStateService=a,this.groupingAndColspanService=l,this.resizer=u,this.sharedService=c,this.sortService=d,this.translate=h,this.forRootConfig=p,this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this.groupingDefinition={},this.showPagination=!1,this.isGridInitialized=!1,this.subscriptions=[],this.onAngularGridCreated=new v.EventEmitter,this.onDataviewCreated=new v.EventEmitter,this.onGridCreated=new v.EventEmitter,this.onGridInitialized=new v.EventEmitter,this.onBeforeGridCreate=new v.EventEmitter,this.onBeforeGridDestroy=new v.EventEmitter,this.onAfterGridDestroyed=new v.EventEmitter,this.onGridStateChanged=new v.EventEmitter}return Object.defineProperty(e.prototype,"gridHeight",{set:function(e){this._fixedHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridWidth",{set:function(e){this._fixedWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},set:function(e){this._columnDefinitions=e,this.isGridInitialized&&this.updateColumnDefinitionsList(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this.dataView.getItems()},set:function(e){this._dataset=e,this.refreshGridData(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.onBeforeGridCreate.emit(!0),this.gridOptions&&!this.gridOptions.enableAutoResize&&(this._fixedHeight||this._fixedWidth)&&(this.gridHeightString=this._fixedHeight+"px",this.gridWidthString=this._fixedWidth+"px")},e.prototype.ngOnDestroy=function(){this.onBeforeGridDestroy.emit(this.grid),this.destroy(),this.onAfterGridDestroyed.emit(!0)},e.prototype.destroy=function(e){void 0===e&&(e=!1);var t=this.gridOptions&&this.gridOptions.gridContainerId;this.dataView=[],this.gridOptions={},this.extensionService.dispose(),this.filterService.dispose(),this.gridEventService.dispose(),this.gridStateService.dispose(),this.groupingAndColspanService.dispose(),this.resizer.dispose(),this.sortService.dispose(),this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.grid&&this.grid.destroy&&this.grid.destroy(),e&&$(t).empty(),this.subscriptions=ue(this.subscriptions)},e.prototype.ngAfterViewInit=function(){if(this.initialization(),this.isGridInitialized=!0,!this._fixedHeight&&!this.gridOptions.enableAutoResize)throw new Error('[Angular-Slickgrid] requires a "grid-height" or the "enableAutoResize" grid option to be enabled.\n        Without that the grid will seem empty while in fact it just does not have any height define.')},e.prototype.initialization=function(){var t=this;this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this.createBackendApiInternalPostProcessCallback(this.gridOptions),this.customDataView||(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping?(this.extensionUtility.loadExtensionDynamically(O.groupItemMetaProvider),this.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,this.dataView=new Slick.Data.DataView({groupItemMetadataProvider:this.groupItemMetadataProvider})):this.dataView=new Slick.Data.DataView),this._columnDefinitions=this._columnDefinitions.map(function(e){return e.editor&&e.editor.collectionAsync&&t.loadEditorCollectionAsync(e),M({},e,{editor:e.editor&&e.editor.model,internalColumnEditor:M({},e.editor)})}),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.grid=new Slick.Grid("#"+this.gridId,this.customDataView||this.dataView,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this.dataView,this.sharedService.grid=this.grid,this.extensionService.attachDifferentExtensions(),this.attachDifferentHooks(this.grid,this.gridOptions,this.dataView),this.onGridCreated.emit(this.grid),this.grid.init(),!this.customDataView&&this.dataView&&this.dataView.beginUpdate&&this.dataView.setItems&&this.dataView.endUpdate&&(this.onDataviewCreated.emit(this.dataView),this.dataView.beginUpdate(),this.dataView.setItems(this._dataset,this.gridOptions.datasetIdPropertyName),this.dataView.endUpdate(),this.gridOptions&&this.gridOptions.dataView&&this.gridOptions.dataView.hasOwnProperty("syncGridSelection")&&this.dataView.syncGridSelection(this.grid,this.gridOptions.dataView.syncGridSelection)),this._hideHeaderRowAfterPageLoad&&this.showHeaderRow(!1),this.executeAfterDataviewCreated(this.grid,this.gridOptions,this.dataView),this.attachResizeHook(this.grid,this.gridOptions),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this.groupingAndColspanService.init(this.grid,this.dataView),this.gridService.init(this.grid,this.dataView),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.gridOptions.enableExport&&this.exportService.init(this.grid,this.dataView),this.onGridInitialized.emit(this.grid),this.gridOptions&&this.gridOptions.backendServiceApi&&this.attachBackendCallbackFunctions(this.gridOptions),this.gridStateService.init(this.grid,this.extensionService,this.filterService,this.sortService),this.onAngularGridCreated.emit({dataView:this.dataView,slickGrid:this.grid,destroy:this.destroy.bind(this),backendService:this.gridOptions&&this.gridOptions.backendServiceApi&&this.gridOptions.backendServiceApi.service,exportService:this.exportService,extensionService:this.extensionService,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingAndColspanService,resizerService:this.resizer,sortService:this.sortService,pluginService:this.extensionService})},e.prototype.commitEdit=function(e){var t=this;if(this.grid.getOptions().autoCommitEdit){var i=this.grid.getActiveCellNode();setTimeout(function(){i&&i.contains(e)&&t.grid.getEditorLock().isActive()&&t.grid.getEditorLock().commitCurrentEdit()})}},e.prototype.createBackendApiInternalPostProcessCallback=function(e){var i=this;if(e&&e.backendServiceApi){var r=e.backendServiceApi;r&&r.service&&r.service instanceof $t&&(r.internalPostProcess=function(e){var t=r&&r.service&&"function"==typeof r.service.getDatasetName?r.service.getDatasetName():"";e&&e.data&&e.data[t]?(i._dataset=e.data[t].nodes,i.refreshGridData(i._dataset,e.data[t].totalCount)):i._dataset=[]})}},e.prototype.attachDifferentHooks=function(r,i,e){var n=this;if(this.subscriptions.push(this.translate.onLangChange.subscribe(function(e){i.enableTranslate&&(n.extensionService.translateColumnHeaders(),n.extensionService.translateColumnPicker(),n.extensionService.translateGridMenu(),n.extensionService.translateHeaderMenu())})),i.presets&&Array.isArray(i.presets.columns)&&0<i.presets.columns.length){var t=this.gridStateService.getAssociatedGridColumns(r,i.presets.columns);if(t&&Array.isArray(t)&&0<t.length){if(i.enableCheckboxSelector){var o=Array.isArray(this._columnDefinitions)&&0<this._columnDefinitions.length?this._columnDefinitions[0]:null;o&&"_checkbox_selector"===o.id&&"_checkbox_selector"!==t[0].id&&t.unshift(o)}r.setColumns(t)}}if(i.enableSorting&&!this.customDataView&&(i.backendServiceApi?this.sortService.attachBackendOnSort(r,e):this.sortService.attachLocalOnSort(r,e)),i.enableFiltering&&!this.customDataView&&(this.filterService.init(r),i.presets&&Array.isArray(i.presets.filters)&&0<i.presets.filters.length&&this.filterService.populateColumnFilterSearchTerms(),i.backendServiceApi?this.filterService.attachBackendOnFilter(r,this.dataView):this.filterService.attachLocalOnFilter(r,this.dataView)),i.backendServiceApi){var s=i.backendServiceApi;s&&s.service&&s.service.init&&s.service.init(s.options,i.pagination,this.grid)}var a=function(i){r.hasOwnProperty(i)&&i.startsWith("on")&&l._eventHandler.subscribe(r[i],function(e,t){return n.dispatchCustomEvent("sg"+se(i),{eventData:e,args:t})})},l=this;for(var u in r)a(u);var c=function(i){e.hasOwnProperty(i)&&i.startsWith("on")&&d._eventHandler.subscribe(e[i],function(e,t){return n.dispatchCustomEvent("sg"+se(i),{eventData:e,args:t})})},d=this;for(var u in e)c(u);this.subscriptions.push(this.gridStateService.onGridStateChanged.subscribe(function(e){n.onGridStateChanged.emit(e)})),this.gridEventService.attachOnCellChange(r,e),this.gridEventService.attachOnClick(r,e),e&&r&&(this._eventHandler.subscribe(e.onRowCountChanged,function(e,t){r.invalidate()}),i&&i.enableFiltering&&!i.enableRowDetailView&&this._eventHandler.subscribe(e.onRowsChanged,function(e,t){t&&t.rows&&Array.isArray(t.rows)&&(t.rows.forEach(function(e){return r.updateRow(e)}),r.render())})),i.colspanCallback&&(this.dataView.getItemMetadata=function(e){var t=n.dataView.getItem(e);return i.colspanCallback(t)})},e.prototype.attachBackendCallbackFunctions=function(e){var i=this,r=e.backendServiceApi,t=r&&r.service&&r.service.options?r.service.options:{},n=!!t&&(!t||!t.hasOwnProperty("executeProcessCommandOnInit")||t.executeProcessCommandOnInit);if(r){var o=r.service;if(e&&e.presets)o&&o.updateFilters&&Array.isArray(e.presets.filters)&&0<e.presets.filters.length&&o.updateFilters(e.presets.filters,!0),o&&o.updateSorters&&Array.isArray(e.presets.sorters)&&0<e.presets.sorters.length&&o.updateSorters(undefined,e.presets.sorters),o&&o.updatePagination&&e.presets.pagination&&o.updatePagination(e.presets.pagination.pageNumber,e.presets.pagination.pageSize);else{var s=this.filterService.getColumnFilters();s&&o&&o.updateFilters&&o.updateFilters(s,!1)}}if(r&&r.service&&(r.onInit||n)){var a="function"==typeof r.service.buildQuery?r.service.buildQuery():"",l=n?r.process(a):r.onInit(a);setTimeout(function(){var t=new Date;r.preProcess&&r.preProcess();try{l instanceof Promise&&l.then?l.then(function(e){return k(t,e,r,i.gridOptions)}):m.isObservable(l)&&l.subscribe(function(e){return k(t,e,r,i.gridOptions)},function(e){return F(e,r)})}catch(e){F(e,r)}})}},e.prototype.attachResizeHook=function(e,t){e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&(e.autosizeColumns(),this.resizer.compensateHorizontalScroll(this.grid,this.gridOptions)),this._fixedHeight||this._fixedWidth?this.resizer.init(e,{height:this._fixedHeight,width:this._fixedWidth}):this.resizer.init(e),t.enableAutoResize&&(this.resizer.bindAutoResizeDataGrid(),e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&e.autosizeColumns())},e.prototype.executeAfterDataviewCreated=function(e,t,i){t.enableSorting&&t.presets&&Array.isArray(t.presets.sorters)&&0<t.presets.sorters.length&&this.sortService.loadLocalPresets(e,i)},e.prototype.mergeGridOptions=function(e){e.gridId=this.gridId,e.gridContainerId="slickGridContainer-"+this.gridId;var t=$.extend(!0,{},bt,this.forRootConfig,e);return e&&e.backendServiceApi&&e.pagination&&Array.isArray(e.pagination.pageSizes)&&0<e.pagination.pageSizes.length&&(t.pagination.pageSizes=e.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=!1===t.showHeaderRow,t.enableFiltering&&!t.showHeaderRow&&(t.showHeaderRow=t.enableFiltering),t},e.prototype.paginationChanged=function(e){(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.gridService.setSelectedRows([]),this.gridStateService.onGridStateChanged.next({change:{newValues:e,type:T.pagination},gridState:this.gridStateService.getCurrentGridState()})},e.prototype.refreshGridData=function(e,t){if(Array.isArray(e)&&this.grid&&this.dataView&&"function"==typeof this.dataView.setItems&&(this.dataView.setItems(e,this.gridOptions.datasetIdPropertyName),this.gridOptions.backendServiceApi||this.dataView.reSort(),e&&(this.grid.invalidate(),this.grid.render()),this.gridOptions.backendServiceApi&&(this.showPagination=!(!this.gridOptions.backendServiceApi||this.gridOptions.enablePagination!==undefined)||this.gridOptions.enablePagination||!1,this.gridOptions.pagination||(this.gridOptions.pagination=this.gridOptions.pagination?this.gridOptions.pagination:undefined),this.gridOptions.pagination&&t!==undefined&&(this.gridOptions.pagination.totalItems=t),this.gridOptions.presets&&this.gridOptions.presets.pagination&&this.gridOptions.pagination&&(this.gridOptions.pagination.pageSize=this.gridOptions.presets.pagination.pageSize,this.gridOptions.pagination.pageNumber=this.gridOptions.presets.pagination.pageNumber),this.gridPaginationOptions=this.mergeGridOptions(this.gridOptions)),this.grid&&this.gridOptions.enableAutoResize)){var i=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizer.resizeGrid(i||10)}},e.prototype.updateColumnDefinitionsList=function(e){this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,e):this.extensionService.renderColumnHeaders(e),this.gridOptions&&this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns()},e.prototype.showHeaderRow=function(e){return this.grid.setHeaderRowVisibility(e),e},e.prototype.toggleHeaderRow=function(){var e=!this.grid.getOptions().showHeaderRow;return this.grid.setHeaderRowVisibility(e),e},e.prototype.dispatchCustomEvent=function(e,t,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var n={bubbles:i,cancelable:r};return t&&(n.detail=t),this.elm.nativeElement.dispatchEvent(new CustomEvent(e,n))},e.prototype.loadEditorCollectionAsync=function(t){var i=this,e=t&&t.editor&&t.editor.collectionAsync;e instanceof m.Observable&&this.subscriptions.push(e.subscribe(function(e){return i.updateEditorCollection(t,e)}))},e.prototype.updateEditorCollection=function(t,e){t.editor.collection=e;var i=this.grid.getColumns();Array.isArray(i)&&(i.find(function(e){return e.id===t.id}).internalColumnEditor=t.editor)},e.decorators=[{type:v.Injectable},{type:v.Component,args:[{selector:"angular-slickgrid",template:'<div id="slickGridContainer-{{gridId}}" class="gridPane" [style.width]="gridWidthString">\r\n    <div attr.id=\'{{gridId}}\' class="slickgrid-container" style="width: 100%" [style.height]="gridHeightString">\r\n    </div>\r\n\r\n    <slick-pagination id="slickPagingContainer-{{gridId}}"\r\n        *ngIf="showPagination"\r\n        (onPaginationChanged)="paginationChanged($event)"\r\n        [dataView]="dataView"\r\n        [gridPaginationOptions]="gridPaginationOptions">\r\n    </slick-pagination>\r\n</div>\r\n',providers:[P,Ae,Pe,ke,Fe,Ve,Mt,we,Ie,_t,Ct,$t,Ht,wt,Bt,jt,Ut,xt,Dt,It,zt,Ft,Vt,Rt,De,Tt,Ot]}]}],e.ctorParameters=function(){return[{type:v.ElementRef},{type:we},{type:Mt},{type:Ie},{type:Ct},{type:Bt},{type:Ht},{type:jt},{type:Ut},{type:zt},{type:De},{type:Tt},{type:y.TranslateService},{type:undefined,decorators:[{type:v.Inject,args:["config"]}]}]},e.propDecorators={onAngularGridCreated:[{type:v.Output}],onDataviewCreated:[{type:v.Output}],onGridCreated:[{type:v.Output}],onGridInitialized:[{type:v.Output}],onBeforeGridCreate:[{type:v.Output}],onBeforeGridDestroy:[{type:v.Output}],onAfterGridDestroyed:[{type:v.Output}],onGridStateChanged:[{type:v.Output}],customDataView:[{type:v.Input}],gridId:[{type:v.Input}],gridOptions:[{type:v.Input}],gridHeight:[{type:v.Input}],gridWidth:[{type:v.Input}],columnDefinitions:[{type:v.Input}],dataset:[{type:v.Input}]},e}(),Dr=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:"config",useValue:e},P,Te,_t,$t,Gt]}},t.decorators=[{type:v.NgModule,args:[{imports:[g.CommonModule,y.TranslateModule],declarations:[xr,wr],exports:[xr,wr],entryComponents:[xr]}]}],t}();e.SlickgridConfig=Ot,e.SlickPaginationComponent=wr,e.AngularSlickgridComponent=xr,e.AngularSlickgridModule=Dr,e.CaseType=E,e.DelimiterType=S,e.EmitterType=b,e.ExtensionName=O,e.FieldType=x,e.FileType=_,e.FilterMultiplePassType=C,e.GridStateType=T,e.KeyCode=w,e.OperatorType=D,e.SortDirection=I,e.SortDirectionNumber=A,e.AngularUtilService=P,e.executeBackendProcessesCallback=k,e.onBackendError=F,e.CollectionService=Te,e.ExportService=we,e.ExtensionService=Mt,e.FilterService=Ct,e.GraphqlService=$t,e.GridOdataService=Gt,e.GridEventService=Ht,e.GridService=Bt,e.GridStateService=jt,e.GroupingAndColspanService=Ut,e.OdataService=Lt,e.ResizerService=zt,e.SharedService=De,e.SortService=Tt,e.addWhiteSpaces=U,e.htmlEncode=z,e.htmlDecode=function Ar(e){return $("<div/>").html(e).text()},e.htmlEntityDecode=Q,e.htmlEntityEncode=function Pr(e){for(var t=[],i=e.length-1;0<=i;i--)t.unshift(["&#",e[i].charCodeAt(),";"].join(""));return t.join("")},e.arraysEqual=q,e.castToPromise=W,e.findOrDefault=Y,e.decimalFormatted=X,e.getDescendantProperty=K,e.getScrollBarWidth=Z,e.mapMomentDateFormatWithFieldType=J,e.mapFlatpickrDateFormatWithFieldType=ee,e.mapOperatorType=te,e.mapOperatorByFieldType=ie,e.parseBoolean=re,e.parseUtcDate=ne,e.sanitizeHtmlToText=oe,e.titleCase=se,e.toCamelCase=ae,e.toKebabCase=function kr(e){return ae(e).replace(/([A-Z])/g,"-$1").toLowerCase()},e.uniqueArray=le,e.unsubscribeAllObservables=ue,e.Aggregators=Xt,e.Editors=ci,e.AutoTooltipExtension=Ae,e.CellExternalCopyManagerExtension=Pe,e.CheckboxSelectorExtension=ke,e.ColumnPickerExtension=Fe,e.DraggableGroupingExtension=Ve,e.ExtensionUtility=Ie,e.GridMenuExtension=wt,e.GroupItemMetaProviderExtension=xt,e.HeaderButtonExtension=Dt,e.HeaderMenuExtension=It,e.RowDetailViewExtension=Ft,e.RowMoveManagerExtension=Vt,e.RowSelectionExtension=Rt,e.FilterConditions=tt,e.Filters=St,e.FilterFactory=_t,e.Formatters=hr,e.GroupTotalFormatters=Tr,e.Sorters=Ee,e.a=Qt,e.c=Wt,e.b=qt,e.d=Yt,e.e=Kt,e.f=Zt,e.g=ei,e.h=ti,e.i=ii,e.j=ri,e.k=si,e.l=oi,e.m=ai,e.n=li,e.o=ui,e.q=Me,e.r=Ke,e.s=Le,e.t=je,e.v=ze,e.w=We,e.u=Xe,e.p=et,e.z=Ne,e.x=Ze,e.y=Je,e.ba=it,e.bb=nt,e.bc=ot,e.bd=st,e.be=at,e.bf=lt,e.bg=ut,e.bh=ct,e.bi=dt,e.bj=ht,e.bk=mt,e.bm=gt,e.bl=ft,e.bn=vt,e.bo=yt,e.bp=di,e.bq=hi,e.br=pi,e.bs=fi,e.bt=mi,e.bw=vi,e.bv=gi,e.bu=yi,e.bx=Oi,e.ca=xi,e.by=Ci,e.bz=Mi,e.cd=Li,e.ce=Ai,e.cc=Fi,e.cb=ji,e.cg=Bi,e.cf=Ui,e.cj=zi,e.ci=Qi,e.ch=qi,e.ck=Wi,e.cl=Xi,e.cm=Ki,e.cn=Zi,e.co=Ji,e.cp=er,e.cq=tr,e.cr=ir,e.cu=nr,e.ct=or,e.cs=rr,e.cv=sr,e.cw=ar,e.cy=ur,e.cx=lr,e.cz=cr,e.da=dr,e.dc=fr,e.db=mr,e.dd=pr,e.de=vr,e.df=gr,e.dh=Cr,e.di=yr,e.dk=Or,e.dm=Sr,e.dl=br,e.dj=_r,e.dg=Er,e.do=ve,e.dn=me,e.dq=pe,e.dp=Se,e.dr=be,e.ds=Oe,e.dt=_e,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-slickgrid.umd.min.js.map